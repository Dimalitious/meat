<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–æ–≤</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .orders-table th {
            white-space: normal;
            min-width: 60px;
        }

        .orders-table td {
            vertical-align: middle;
        }

        .orders-table input[type="number"] {
            min-width: 75px;
        }

        .orders-table input[type="date"] {
            min-width: 120px;
        }

        .orders-table select {
            min-width: 100px;
        }

        .btn-proc {
            min-width: 44px;
            min-height: 44px;
            font-size: 1.2rem;
        }

        .filter-row input {
            font-size: .7rem;
            padding: .25rem .4rem;
            width: 100%;
        }
    </style>
</head>

<body>
    <aside class="sidebar">
        <div class="sidebar-header">ERP System</div>
        <nav class="sidebar-nav" id="sidebar-nav"></nav>
    </aside>
    <main class="main-content">
        <div class="container">
            <div class="page-header">
                <h1 class="page-title">–§–æ—Ä–º–∞ <span class="accent">–∑–∞–∫–∞–∑–æ–≤</span></h1>
                <div class="toolbar">
                    <label>–î–∞—Ç–∞ –∑–∞–∫–∞–∑–∞: <input type="date" id="order-date"
                            style="margin-left:.3rem;padding:.4rem;border-radius:6px;background:var(--bg-primary);color:var(--text-primary);border:1px solid var(--border);"></label>
                    <input type="text" id="global-search" placeholder="üîç –ü–æ–∏—Å–∫..."
                        style="padding:.4rem .6rem;border-radius:6px;background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border);width:150px">
                    <button id="btn-reset-filters" class="btn btn-secondary">üîÑ</button>
                    <button id="btn-delete-selected" class="btn btn-danger" disabled>üóëÔ∏è</button>
                    <label class="btn btn-primary">üì• Import<input type="file" id="file-import"
                            class="file-input-hidden" accept=".xlsx,.xls"></label>
                    <button id="btn-export" class="btn btn-primary">üì§ Export</button>
                    <button id="btn-add-row" class="btn btn-success">‚ûï</button>
                    <button id="btn-save-journal" class="btn btn-success btn-lg">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
            <div class="card" style="display:flex;gap:1rem;align-items:flex-start;">
                <div class="table-wrapper" style="flex:1;overflow-x:auto;">
                    <table class="orders-table" id="orders-table">
                        <thead>
                            <tr>
                                <th class="col-checkbox"><input type="checkbox" id="select-all"></th>
                                <th>–î–∞—Ç–∞ –æ—Ç–≥—Ä—É–∑–∫–∏</th>
                                <th>–¢–∏–ø –æ–ø–ª–∞—Ç—ã</th>
                                <th>–ó–∞–∫–∞–∑—á–∏–∫</th>
                                <th>–¢–æ–≤–∞—Ä</th>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                <th>–£—Ç—Ä–µ–Ω–Ω–µ–µ –∏–º—è</th>
                                <th>–¶–µ–Ω–∞</th>
                                <th>–°—É–º–º–∞ –∑–∞–∫–∞–∑–∞</th>
                                <th>–§–∞–∫—Ç –æ—Ç–≥—Ä.</th>
                                <th>–ö–æ–ª-–≤–æ –∑–∞–∫–∞–∑–∞</th>
                                <th>–ö–æ—ç—Ñ—Ñ.—Ä–∞—Å–ø—Ä.</th>
                                <th>–í–µ—Å –∫ —Ä–∞—Å–ø—Ä.</th>
                                <th>–û–±—Ä–∞–±.</th>
                                <th>‚úï</th>
                            </tr>
                            <tr class="filter-row">
                                <th></th>
                                <th><input type="text" class="filter-input" data-col="shipment_date" placeholder="–¥–∞—Ç–∞">
                                </th>
                                <th><input type="text" class="filter-input" data-col="payment_type" placeholder="...">
                                </th>
                                <th><input type="text" class="filter-input" data-col="customer_id"
                                        placeholder="–∑–∞–∫–∞–∑—á–∏–∫"></th>
                                <th><input type="text" class="filter-input" data-col="product_code" placeholder="—Ç–æ–≤–∞—Ä">
                                </th>
                                <th><input type="text" class="filter-input" data-col="product_category"
                                        placeholder="–∫–∞—Ç–µ–≥–æ—Ä–∏—è"></th>
                                <th><input type="text" class="filter-input" data-col="short_name_morning"
                                        placeholder="—É—Ç—Ä–æ"></th>
                                <th></th>
                                <th><input type="text" class="filter-input" data-col="order_sum" placeholder="><="></th>
                                <th></th>
                                <th><input type="text" class="filter-input" data-col="order_value" placeholder="><=">
                                </th>
                                <th></th>
                                <th></th>
                                <th><input type="text" class="filter-input" data-col="processed" placeholder="–¥–∞/–Ω–µ—Ç">
                                </th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="table-body"></tbody>
                    </table>
                </div>
                <!-- Summary Panel -->
                <div class="summary-panel"
                    style="width:200px;background:var(--bg-secondary);padding:1rem;border-radius:8px;border:1px solid var(--border);position:sticky;top:1rem;flex-shrink:0;">
                    <h3 style="margin-top:0;font-size:1rem;color:var(--text-secondary);">–ò—Ç–æ–≥–æ</h3>
                    <div style="margin-bottom:1rem;">
                        <small>–û–±—â–∏–π –≤–µ—Å –∫ –æ—Ç–≥—Ä—É–∑–∫–µ</small>
                        <div id="total-order-qty" style="font-size:1.5rem;font-weight:bold;color:var(--accent);">0.00
                        </div>
                    </div>
                </div>
                <div id="empty-state" class="empty-state" style="display:none;">
                    <div class="empty-state-icon">üìã</div>
                    <p>–ù–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>
                </div>
            </div>
        </div>
    </main>
    <div id="confirm-modal" class="modal-overlay">
        <div class="modal" style="max-width:400px;text-align:center;">
            <div class="modal-header" style="justify-content:center;">
                <h3>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h3>
            </div>
            <div class="modal-body">
                <p id="confirm-message">–£–¥–∞–ª–∏—Ç—å?</p>
            </div>
            <div class="modal-footer" style="justify-content:center;gap:1rem;"><button id="confirm-cancel-btn"
                    class="btn btn-secondary">–ù–µ—Ç</button><button id="confirm-ok-btn" class="btn btn-danger">–î–∞</button>
            </div>
        </div>
    </div>
    <div id="toast" class="toast" style="display:none;"></div>
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    <script src="storage.js"></script>
    <script src="sidebar.js"></script>
    <script src="orders.js"></script>
</body>

</html>