
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
// biome-ignore-all lint: generated file

Object.defineProperty(exports, "__esModule", { value: true });

const {
  PrismaClientKnownRequestError,
  PrismaClientUnknownRequestError,
  PrismaClientRustPanicError,
  PrismaClientInitializationError,
  PrismaClientValidationError,
  getPrismaClient,
  sqltag,
  empty,
  join,
  raw,
  skip,
  Decimal,
  Debug,
  objectEnumValues,
  makeStrictEnum,
  Extensions,
  warnOnce,
  defineDmmfProperty,
  Public,
  getRuntime,
  createParam,
} = require('@prisma/client/runtime/wasm-engine-edge.js')


const Prisma = {}

exports.Prisma = Prisma
exports.$Enums = {}

/**
 * Prisma Client JS version: 6.19.2
 * Query Engine version: c2990dca591cba766e3b7ef5d9e8a84796e47ab7
 */
Prisma.prismaVersion = {
  client: "6.19.2",
  engine: "c2990dca591cba766e3b7ef5d9e8a84796e47ab7"
}

Prisma.PrismaClientKnownRequestError = PrismaClientKnownRequestError;
Prisma.PrismaClientUnknownRequestError = PrismaClientUnknownRequestError
Prisma.PrismaClientRustPanicError = PrismaClientRustPanicError
Prisma.PrismaClientInitializationError = PrismaClientInitializationError
Prisma.PrismaClientValidationError = PrismaClientValidationError
Prisma.Decimal = Decimal

/**
 * Re-export of sql-template-tag
 */
Prisma.sql = sqltag
Prisma.empty = empty
Prisma.join = join
Prisma.raw = raw
Prisma.validator = Public.validator

/**
* Extensions
*/
Prisma.getExtensionContext = Extensions.getExtensionContext
Prisma.defineExtension = Extensions.defineExtension

/**
 * Shorthand utilities for JSON filtering
 */
Prisma.DbNull = objectEnumValues.instances.DbNull
Prisma.JsonNull = objectEnumValues.instances.JsonNull
Prisma.AnyNull = objectEnumValues.instances.AnyNull

Prisma.NullTypes = {
  DbNull: objectEnumValues.classes.DbNull,
  JsonNull: objectEnumValues.classes.JsonNull,
  AnyNull: objectEnumValues.classes.AnyNull
}





/**
 * Enums
 */
exports.Prisma.TransactionIsolationLevel = makeStrictEnum({
  ReadUncommitted: 'ReadUncommitted',
  ReadCommitted: 'ReadCommitted',
  RepeatableRead: 'RepeatableRead',
  Serializable: 'Serializable'
});

exports.Prisma.UserScalarFieldEnum = {
  id: 'id',
  username: 'username',
  password: 'password',
  name: 'name',
  role: 'role',
  telegramId: 'telegramId',
  isActive: 'isActive',
  authVersion: 'authVersion',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.DistrictScalarFieldEnum = {
  id: 'id',
  code: 'code',
  name: 'name'
};

exports.Prisma.ManagerScalarFieldEnum = {
  id: 'id',
  code: 'code',
  name: 'name',
  phone: 'phone'
};

exports.Prisma.ProductScalarFieldEnum = {
  id: 'id',
  code: 'code',
  name: 'name',
  altName: 'altName',
  priceListName: 'priceListName',
  category: 'category',
  status: 'status',
  coefficient: 'coefficient',
  lossNorm: 'lossNorm',
  participatesInProduction: 'participatesInProduction',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  uomId: 'uomId',
  countryId: 'countryId',
  subcategoryId: 'subcategoryId'
};

exports.Prisma.UnitOfMeasureScalarFieldEnum = {
  id: 'id',
  name: 'name',
  code: 'code',
  isBase: 'isBase',
  isDefault: 'isDefault',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.CustomerScalarFieldEnum = {
  id: 'id',
  code: 'code',
  name: 'name',
  legalName: 'legalName',
  inn: 'inn',
  telegramGroupName: 'telegramGroupName',
  telegramGroupUsername: 'telegramGroupUsername',
  telegramChatId: 'telegramChatId',
  telegramChatType: 'telegramChatType',
  telegramIsEnabled: 'telegramIsEnabled',
  telegramBoundAt: 'telegramBoundAt',
  telegramBoundByUserId: 'telegramBoundByUserId',
  districtId: 'districtId',
  managerId: 'managerId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.CustomerAddressScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  label: 'label',
  addressText: 'addressText',
  lat: 'lat',
  lng: 'lng',
  accuracyM: 'accuracyM',
  comment: 'comment',
  isDefault: 'isDefault',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  deletedAt: 'deletedAt'
};

exports.Prisma.CustomerCardScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  name: 'name',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.CustomerCardItemScalarFieldEnum = {
  id: 'id',
  cardId: 'cardId',
  productId: 'productId',
  description: 'description',
  sortOrder: 'sortOrder',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.CustomerCardItemPhotoScalarFieldEnum = {
  id: 'id',
  itemId: 'itemId',
  url: 'url',
  sortOrder: 'sortOrder',
  createdAt: 'createdAt'
};

exports.Prisma.CustomerProductScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  productId: 'productId',
  sortOrder: 'sortOrder',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SupplierScalarFieldEnum = {
  id: 'id',
  code: 'code',
  name: 'name',
  legalName: 'legalName',
  altName: 'altName',
  phone: 'phone',
  telegram: 'telegram',
  telegramChatId: 'telegramChatId',
  telegramThreadId: 'telegramThreadId',
  telegramEnabled: 'telegramEnabled',
  isActive: 'isActive',
  primaryMmlId: 'primaryMmlId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.OrderTelegramLogScalarFieldEnum = {
  id: 'id',
  orderId: 'orderId',
  supplierId: 'supplierId',
  chatId: 'chatId',
  threadId: 'threadId',
  status: 'status',
  text: 'text',
  error: 'error',
  sentByUserId: 'sentByUserId',
  sentAt: 'sentAt',
  createdAt: 'createdAt'
};

exports.Prisma.SupplierProductScalarFieldEnum = {
  supplierId: 'supplierId',
  productId: 'productId'
};

exports.Prisma.OrderScalarFieldEnum = {
  id: 'id',
  idn: 'idn',
  date: 'date',
  status: 'status',
  paymentType: 'paymentType',
  customerId: 'customerId',
  expeditorId: 'expeditorId',
  totalAmount: 'totalAmount',
  totalWeight: 'totalWeight',
  isDisabled: 'isDisabled',
  dispatchDay: 'dispatchDay',
  assemblyStartedAt: 'assemblyStartedAt',
  assemblyConfirmedAt: 'assemblyConfirmedAt',
  loadedAt: 'loadedAt',
  shippedAt: 'shippedAt',
  assemblyStartedBy: 'assemblyStartedBy',
  assemblyConfirmedBy: 'assemblyConfirmedBy',
  loadedBy: 'loadedBy',
  shippedBy: 'shippedBy',
  deliveryAddress: 'deliveryAddress',
  assignedAt: 'assignedAt',
  deliveryStatus: 'deliveryStatus',
  completedAt: 'completedAt',
  signatureUrl: 'signatureUrl',
  signedInvoiceUrl: 'signedInvoiceUrl',
  deliveryLat: 'deliveryLat',
  deliveryLng: 'deliveryLng',
  deliveryAccuracyM: 'deliveryAccuracyM',
  deliveryComment: 'deliveryComment',
  customerAddressId: 'customerAddressId',
  returnTotalQty: 'returnTotalQty',
  returnTotalSum: 'returnTotalSum',
  netTotalSum: 'netTotalSum',
  isEdited: 'isEdited',
  editedAt: 'editedAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  draftId: 'draftId'
};

exports.Prisma.OrderAttachmentScalarFieldEnum = {
  id: 'id',
  orderId: 'orderId',
  type: 'type',
  filename: 'filename',
  url: 'url',
  mimeType: 'mimeType',
  createdAt: 'createdAt'
};

exports.Prisma.OrderItemScalarFieldEnum = {
  id: 'id',
  orderId: 'orderId',
  productId: 'productId',
  quantity: 'quantity',
  price: 'price',
  amount: 'amount',
  shippedQty: 'shippedQty',
  qtyReturn: 'qtyReturn',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  distributionCoef: 'distributionCoef',
  sumWithRevaluation: 'sumWithRevaluation',
  weightToDistribute: 'weightToDistribute'
};

exports.Prisma.OrderReturnScalarFieldEnum = {
  id: 'id',
  orderId: 'orderId',
  expeditionId: 'expeditionId',
  createdBy: 'createdBy',
  status: 'status',
  totalQty: 'totalQty',
  totalSum: 'totalSum',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.OrderReturnItemScalarFieldEnum = {
  id: 'id',
  returnId: 'returnId',
  orderItemId: 'orderItemId',
  productId: 'productId',
  qtyShip: 'qtyShip',
  qtyReturn: 'qtyReturn',
  price: 'price',
  sumShip: 'sumShip',
  sumNet: 'sumNet',
  createdAt: 'createdAt'
};

exports.Prisma.ReturnAuditLogScalarFieldEnum = {
  id: 'id',
  orderId: 'orderId',
  returnId: 'returnId',
  expeditionId: 'expeditionId',
  action: 'action',
  performedBy: 'performedBy',
  totalQty: 'totalQty',
  totalSum: 'totalSum',
  details: 'details',
  createdAt: 'createdAt'
};

exports.Prisma.ExpeditorScalarFieldEnum = {
  id: 'id',
  name: 'name',
  phone: 'phone',
  isActive: 'isActive',
  userId: 'userId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.StockScalarFieldEnum = {
  productId: 'productId',
  quantity: 'quantity',
  updatedAt: 'updatedAt'
};

exports.Prisma.StockTransactionScalarFieldEnum = {
  id: 'id',
  productId: 'productId',
  type: 'type',
  quantity: 'quantity',
  orderId: 'orderId',
  note: 'note',
  createdAt: 'createdAt'
};

exports.Prisma.SummaryOrderJournalScalarFieldEnum = {
  id: 'id',
  idn: 'idn',
  shipDate: 'shipDate',
  paymentType: 'paymentType',
  customerId: 'customerId',
  customerName: 'customerName',
  productId: 'productId',
  productCode: 'productCode',
  productFullName: 'productFullName',
  category: 'category',
  shortNameMorning: 'shortNameMorning',
  priceType: 'priceType',
  price: 'price',
  shippedQty: 'shippedQty',
  orderQty: 'orderQty',
  sumWithRevaluation: 'sumWithRevaluation',
  distributionCoef: 'distributionCoef',
  weightToDistribute: 'weightToDistribute',
  managerId: 'managerId',
  managerName: 'managerName',
  district: 'district',
  pointAddress: 'pointAddress',
  status: 'status',
  preAssemblyStatus: 'preAssemblyStatus',
  assemblyStartedAt: 'assemblyStartedAt',
  assemblyStartedBy: 'assemblyStartedBy',
  assemblyReturnedAt: 'assemblyReturnedAt',
  assemblyReturnedBy: 'assemblyReturnedBy',
  assemblyReturnReason: 'assemblyReturnReason',
  assemblyReturnComment: 'assemblyReturnComment',
  confirmedBy: 'confirmedBy',
  confirmedAt: 'confirmedAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  orderItemId: 'orderItemId'
};

exports.Prisma.SummaryOrderEventScalarFieldEnum = {
  id: 'id',
  summaryOrderId: 'summaryOrderId',
  eventType: 'eventType',
  fromStatus: 'fromStatus',
  toStatus: 'toStatus',
  reason: 'reason',
  comment: 'comment',
  createdAt: 'createdAt',
  createdBy: 'createdBy',
  payload: 'payload'
};

exports.Prisma.SummaryOrdersJournalScalarFieldEnum = {
  id: 'id',
  summaryDate: 'summaryDate',
  createdAt: 'createdAt',
  createdBy: 'createdBy',
  isHidden: 'isHidden',
  data: 'data'
};

exports.Prisma.AssemblyOrdersJournalScalarFieldEnum = {
  id: 'id',
  assemblyDate: 'assemblyDate',
  createdAt: 'createdAt',
  createdBy: 'createdBy',
  isHidden: 'isHidden',
  sourceSummaryId: 'sourceSummaryId',
  data: 'data'
};

exports.Prisma.ExpeditionJournalScalarFieldEnum = {
  id: 'id',
  expeditorId: 'expeditorId',
  expeditorName: 'expeditorName',
  dateFrom: 'dateFrom',
  dateTo: 'dateTo',
  status: 'status',
  ordersCount: 'ordersCount',
  totalWeight: 'totalWeight',
  totalAmount: 'totalAmount',
  createdAt: 'createdAt',
  isHidden: 'isHidden',
  data: 'data'
};

exports.Prisma.DistributionJournalScalarFieldEnum = {
  id: 'id',
  date: 'date',
  ordersCount: 'ordersCount',
  totalWeight: 'totalWeight',
  totalAmount: 'totalAmount',
  createdAt: 'createdAt',
  isHidden: 'isHidden',
  data: 'data'
};

exports.Prisma.ProductionStaffScalarFieldEnum = {
  id: 'id',
  fullName: 'fullName',
  phone: 'phone',
  userId: 'userId',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionJournalScalarFieldEnum = {
  id: 'id',
  productionDate: 'productionDate',
  staffId: 'staffId',
  status: 'status',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  createdBy: 'createdBy',
  updatedBy: 'updatedBy'
};

exports.Prisma.ProductionItemScalarFieldEnum = {
  id: 'id',
  journalId: 'journalId',
  productId: 'productId',
  productName: 'productName',
  state: 'state',
  sortOrder: 'sortOrder',
  isDeleted: 'isDeleted',
  deletedAt: 'deletedAt',
  deletedBy: 'deletedBy',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  createdBy: 'createdBy',
  updatedBy: 'updatedBy'
};

exports.Prisma.ProductionItemValueScalarFieldEnum = {
  id: 'id',
  productionItemId: 'productionItemId',
  fieldKey: 'fieldKey',
  fieldValue: 'fieldValue',
  updatedAt: 'updatedAt',
  updatedBy: 'updatedBy'
};

exports.Prisma.PurchasePriceListScalarFieldEnum = {
  id: 'id',
  date: 'date',
  name: 'name',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  createdBy: 'createdBy',
  updatedBy: 'updatedBy'
};

exports.Prisma.PurchasePriceListSupplierScalarFieldEnum = {
  id: 'id',
  priceListId: 'priceListId',
  supplierId: 'supplierId',
  primaryMmlId: 'primaryMmlId',
  createdAt: 'createdAt'
};

exports.Prisma.PurchasePriceItemScalarFieldEnum = {
  id: 'id',
  priceListId: 'priceListId',
  supplierId: 'supplierId',
  productId: 'productId',
  purchasePrice: 'purchasePrice',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SalesPriceListScalarFieldEnum = {
  id: 'id',
  listType: 'listType',
  customerId: 'customerId',
  title: 'title',
  effectiveDate: 'effectiveDate',
  status: 'status',
  isCurrent: 'isCurrent',
  isHidden: 'isHidden',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  createdBy: 'createdBy',
  updatedBy: 'updatedBy'
};

exports.Prisma.SalesPriceItemScalarFieldEnum = {
  id: 'id',
  priceListId: 'priceListId',
  productId: 'productId',
  salePrice: 'salePrice',
  rowDate: 'rowDate',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  updatedBy: 'updatedBy'
};

exports.Prisma.ProductionMmlScalarFieldEnum = {
  id: 'id',
  productId: 'productId',
  createdBy: 'createdBy',
  isLocked: 'isLocked',
  isDeleted: 'isDeleted',
  isActive: 'isActive',
  version: 'version',
  parentMmlId: 'parentMmlId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionMmlNodeScalarFieldEnum = {
  id: 'id',
  mmlId: 'mmlId',
  parentNodeId: 'parentNodeId',
  productId: 'productId',
  sortOrder: 'sortOrder',
  isActive: 'isActive',
  sourceNodeId: 'sourceNodeId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionRunScalarFieldEnum = {
  id: 'id',
  productId: 'productId',
  mmlId: 'mmlId',
  userId: 'userId',
  productionDate: 'productionDate',
  plannedWeight: 'plannedWeight',
  actualWeight: 'actualWeight',
  status: 'status',
  isLocked: 'isLocked',
  isHidden: 'isHidden',
  needsReview: 'needsReview',
  sourceType: 'sourceType',
  sourcePurchaseItemId: 'sourcePurchaseItemId',
  sourceOpeningBalanceQty: 'sourceOpeningBalanceQty',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionRunValueScalarFieldEnum = {
  id: 'id',
  productionRunId: 'productionRunId',
  mmlNodeId: 'mmlNodeId',
  snapshotProductId: 'snapshotProductId',
  value: 'value',
  staffId: 'staffId',
  recordedAt: 'recordedAt',
  operationAt: 'operationAt',
  opType: 'opType',
  reasonText: 'reasonText',
  photoUrl: 'photoUrl',
  photoMeta: 'photoMeta',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionAllocationScalarFieldEnum = {
  id: 'id',
  sourceType: 'sourceType',
  sourceId: 'sourceId',
  opType: 'opType',
  purchaseItemId: 'purchaseItemId',
  productId: 'productId',
  qtyAllocated: 'qtyAllocated',
  allocatedAt: 'allocatedAt',
  isVoided: 'isVoided',
  voidedAt: 'voidedAt',
  voidReason: 'voidReason',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionAdjustmentScalarFieldEnum = {
  id: 'id',
  productId: 'productId',
  adjustmentDate: 'adjustmentDate',
  effectiveDate: 'effectiveDate',
  deltaWeight: 'deltaWeight',
  reason: 'reason',
  status: 'status',
  isLocked: 'isLocked',
  createdBy: 'createdBy',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  voidedAt: 'voidedAt',
  voidedBy: 'voidedBy',
  voidReason: 'voidReason'
};

exports.Prisma.PaymentTypeScalarFieldEnum = {
  id: 'id',
  name: 'name',
  paymentId: 'paymentId',
  code: 'code',
  isBase: 'isBase',
  isDefault: 'isDefault',
  isDisabled: 'isDisabled',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PurchaseScalarFieldEnum = {
  id: 'id',
  idn: 'idn',
  purchaseDate: 'purchaseDate',
  totalAmount: 'totalAmount',
  createdByUserId: 'createdByUserId',
  isDisabled: 'isDisabled',
  isSystem: 'isSystem',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PurchaseSupplierScalarFieldEnum = {
  id: 'id',
  purchaseId: 'purchaseId',
  supplierId: 'supplierId',
  createdAt: 'createdAt'
};

exports.Prisma.PurchaseItemScalarFieldEnum = {
  id: 'id',
  purchaseId: 'purchaseId',
  supplierId: 'supplierId',
  productId: 'productId',
  price: 'price',
  qty: 'qty',
  qtyRemaining: 'qtyRemaining',
  amount: 'amount',
  paymentTypeId: 'paymentTypeId',
  isSystem: 'isSystem',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.TelegramBindRequestScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  code: 'code',
  expiresAt: 'expiresAt',
  createdAt: 'createdAt',
  createdByUserId: 'createdByUserId',
  usedAt: 'usedAt',
  usedByChatId: 'usedByChatId'
};

exports.Prisma.TelegramInboxScalarFieldEnum = {
  id: 'id',
  chatId: 'chatId',
  messageId: 'messageId',
  messageDate: 'messageDate',
  fromUserId: 'fromUserId',
  text: 'text',
  raw: 'raw',
  status: 'status',
  error: 'error',
  createdAt: 'createdAt',
  processedAt: 'processedAt'
};

exports.Prisma.OrderDraftScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  sourceChatId: 'sourceChatId',
  status: 'status',
  note: 'note',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  createdByUserId: 'createdByUserId',
  confirmedByUserId: 'confirmedByUserId',
  confirmedByChatId: 'confirmedByChatId',
  managerDecisionNote: 'managerDecisionNote',
  rejectedAt: 'rejectedAt',
  rejectedByUserId: 'rejectedByUserId',
  acceptedAt: 'acceptedAt',
  acceptedByUserId: 'acceptedByUserId'
};

exports.Prisma.OrderDraftItemScalarFieldEnum = {
  id: 'id',
  draftId: 'draftId',
  productId: 'productId',
  rawText: 'rawText',
  title: 'title',
  quantity: 'quantity',
  unit: 'unit'
};

exports.Prisma.OrderDraftMessageScalarFieldEnum = {
  id: 'id',
  draftId: 'draftId',
  inboxId: 'inboxId',
  kind: 'kind'
};

exports.Prisma.TelegramOutboxScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  chatId: 'chatId',
  status: 'status',
  text: 'text',
  documentType: 'documentType',
  documentParams: 'documentParams',
  attempts: 'attempts',
  maxAttempts: 'maxAttempts',
  nextAttemptAt: 'nextAttemptAt',
  lastError: 'lastError',
  createdBy: 'createdBy',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  sentAt: 'sentAt'
};

exports.Prisma.CustomerSalesManagerScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  userId: 'userId',
  assignedAt: 'assignedAt',
  assignedByUserId: 'assignedByUserId',
  unassignedAt: 'unassignedAt',
  unassignedByUserId: 'unassignedByUserId'
};

exports.Prisma.CustomerMoneyRefundScalarFieldEnum = {
  id: 'id',
  customerId: 'customerId',
  refundDate: 'refundDate',
  amount: 'amount',
  paymentTypeId: 'paymentTypeId',
  reference: 'reference',
  comment: 'comment',
  proofUrl: 'proofUrl',
  createdByUserId: 'createdByUserId',
  updatedByUserId: 'updatedByUserId',
  deletedAt: 'deletedAt',
  deletedByUserId: 'deletedByUserId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.WarehouseScalarFieldEnum = {
  id: 'id',
  code: 'code',
  name: 'name',
  address: 'address',
  phone: 'phone',
  responsibleUserId: 'responsibleUserId',
  comment: 'comment',
  isDisabled: 'isDisabled',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SvodHeaderScalarFieldEnum = {
  id: 'id',
  svodDate: 'svodDate',
  status: 'status',
  createdAt: 'createdAt',
  createdBy: 'createdBy',
  updatedAt: 'updatedAt',
  updatedBy: 'updatedBy'
};

exports.Prisma.SvodLineScalarFieldEnum = {
  id: 'id',
  svodId: 'svodId',
  productId: 'productId',
  shortName: 'shortName',
  category: 'category',
  coefficient: 'coefficient',
  orderQty: 'orderQty',
  productionInQty: 'productionInQty',
  openingStock: 'openingStock',
  openingStockIsManual: 'openingStockIsManual',
  afterPurchaseStock: 'afterPurchaseStock',
  afterShipmentStock: 'afterShipmentStock',
  qtyToShip: 'qtyToShip',
  factMinusWaste: 'factMinusWaste',
  weightToShip: 'weightToShip',
  planFactDiff: 'planFactDiff',
  underOver: 'underOver',
  isDistributionSource: 'isDistributionSource',
  distributedFromLineId: 'distributedFromLineId',
  distributedFromName: 'distributedFromName',
  sortOrder: 'sortOrder',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SvodSupplierColScalarFieldEnum = {
  id: 'id',
  svodId: 'svodId',
  colIndex: 'colIndex',
  supplierId: 'supplierId',
  supplierName: 'supplierName',
  totalPurchase: 'totalPurchase',
  createdAt: 'createdAt'
};

exports.Prisma.SvodSupplierValueScalarFieldEnum = {
  id: 'id',
  svodId: 'svodId',
  productId: 'productId',
  supplierId: 'supplierId',
  purchaseQty: 'purchaseQty',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SvodShipmentDistributionScalarFieldEnum = {
  id: 'id',
  svodLineId: 'svodLineId',
  mmlNodeId: 'mmlNodeId',
  distributedQty: 'distributedQty',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionDocScalarFieldEnum = {
  id: 'id',
  date: 'date',
  warehouseId: 'warehouseId',
  status: 'status',
  createdByUserId: 'createdByUserId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionInputScalarFieldEnum = {
  id: 'id',
  productionDocId: 'productionDocId',
  purchaseId: 'purchaseId',
  purchaseItemId: 'purchaseItemId',
  productId: 'productId',
  warehouseId: 'warehouseId',
  qtyIn: 'qtyIn',
  qtyUsed: 'qtyUsed',
  priceIn: 'priceIn',
  loadedAt: 'loadedAt',
  loadedByUserId: 'loadedByUserId'
};

exports.Prisma.ProductionOutputScalarFieldEnum = {
  id: 'id',
  productionDocId: 'productionDocId',
  productId: 'productId',
  qtyOut: 'qtyOut',
  uom: 'uom',
  costTotal: 'costTotal',
  costPerUnit: 'costPerUnit',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionCuttingLineScalarFieldEnum = {
  id: 'id',
  productionDocId: 'productionDocId',
  productionInputId: 'productionInputId',
  mmlId: 'mmlId',
  outProductId: 'outProductId',
  qtyOut: 'qtyOut',
  qtyInConsumed: 'qtyInConsumed',
  createdAt: 'createdAt',
  createdByUserId: 'createdByUserId'
};

exports.Prisma.MaterialReportScalarFieldEnum = {
  id: 'id',
  reportDate: 'reportDate',
  warehouseId: 'warehouseId',
  sourceType: 'sourceType',
  sourceId: 'sourceId',
  status: 'status',
  createdAt: 'createdAt',
  createdBy: 'createdBy',
  updatedAt: 'updatedAt',
  updatedBy: 'updatedBy'
};

exports.Prisma.MaterialReportLineScalarFieldEnum = {
  id: 'id',
  materialReportId: 'materialReportId',
  productId: 'productId',
  productCode: 'productCode',
  productName: 'productName',
  openingBalance: 'openingBalance',
  inPurchase: 'inPurchase',
  inProduction: 'inProduction',
  outSale: 'outSale',
  outWaste: 'outWaste',
  outBundle: 'outBundle',
  outDefectWriteoff: 'outDefectWriteoff',
  outProductionWriteoff: 'outProductionWriteoff',
  outWeightLoss: 'outWeightLoss',
  outSupplierReturn: 'outSupplierReturn',
  closingBalanceCalc: 'closingBalanceCalc',
  closingBalanceFact: 'closingBalanceFact',
  sortOrder: 'sortOrder',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.MaterialReportDraftScalarFieldEnum = {
  id: 'id',
  reportDate: 'reportDate',
  warehouseId: 'warehouseId',
  svodHeaderId: 'svodHeaderId',
  updatedAt: 'updatedAt',
  updatedBy: 'updatedBy'
};

exports.Prisma.MaterialReportDraftLineScalarFieldEnum = {
  id: 'id',
  draftId: 'draftId',
  productId: 'productId',
  openingBalance: 'openingBalance',
  inPurchase: 'inPurchase',
  inProduction: 'inProduction',
  outSale: 'outSale',
  outWaste: 'outWaste',
  outBundle: 'outBundle',
  outDefectWriteoff: 'outDefectWriteoff',
  outProductionWriteoff: 'outProductionWriteoff',
  outWeightLoss: 'outWeightLoss',
  outSupplierReturn: 'outSupplierReturn',
  closingBalanceCalc: 'closingBalanceCalc',
  closingBalanceFact: 'closingBalanceFact',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionLotClosureScalarFieldEnum = {
  id: 'id',
  purchaseItemId: 'purchaseItemId',
  status: 'status',
  qtyPurchased: 'qtyPurchased',
  qtyProduced: 'qtyProduced',
  qtyRemaining: 'qtyRemaining',
  closedAt: 'closedAt',
  closedBy: 'closedBy',
  reopenedAt: 'reopenedAt',
  reopenedBy: 'reopenedBy',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionClosureScalarFieldEnum = {
  id: 'id',
  productionDate: 'productionDate',
  productId: 'productId',
  status: 'status',
  totalIn: 'totalIn',
  totalProduced: 'totalProduced',
  diffAbs: 'diffAbs',
  closedAt: 'closedAt',
  closedBy: 'closedBy',
  reopenedAt: 'reopenedAt',
  reopenedBy: 'reopenedBy',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductionClosureAuditScalarFieldEnum = {
  id: 'id',
  scope: 'scope',
  action: 'action',
  productionDate: 'productionDate',
  productId: 'productId',
  purchaseItemId: 'purchaseItemId',
  performedBy: 'performedBy',
  payload: 'payload',
  createdAt: 'createdAt'
};

exports.Prisma.RoleScalarFieldEnum = {
  id: 'id',
  code: 'code',
  name: 'name',
  isSystem: 'isSystem',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PermissionScalarFieldEnum = {
  id: 'id',
  code: 'code',
  module: 'module',
  description: 'description',
  createdAt: 'createdAt'
};

exports.Prisma.UserRoleScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  roleId: 'roleId',
  assignedAt: 'assignedAt'
};

exports.Prisma.RolePermissionScalarFieldEnum = {
  id: 'id',
  roleId: 'roleId',
  permissionId: 'permissionId'
};

exports.Prisma.SupplierLedgerScalarFieldEnum = {
  id: 'id',
  supplierId: 'supplierId',
  sourceType: 'sourceType',
  sourceId: 'sourceId',
  sourceLineId: 'sourceLineId',
  operationName: 'operationName',
  opDate: 'opDate',
  debit: 'debit',
  credit: 'credit',
  isHidden: 'isHidden',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SupplierReturnScalarFieldEnum = {
  id: 'id',
  supplierId: 'supplierId',
  returnDate: 'returnDate',
  totalAmount: 'totalAmount',
  isDisabled: 'isDisabled',
  createdByUserId: 'createdByUserId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SupplierReturnItemScalarFieldEnum = {
  id: 'id',
  returnId: 'returnId',
  productId: 'productId',
  price: 'price',
  qty: 'qty',
  amount: 'amount'
};

exports.Prisma.SupplierPaymentScalarFieldEnum = {
  id: 'id',
  supplierId: 'supplierId',
  paymentDate: 'paymentDate',
  amount: 'amount',
  method: 'method',
  reference: 'reference',
  comment: 'comment',
  createdByUserId: 'createdByUserId',
  deletedAt: 'deletedAt',
  deletedByUserId: 'deletedByUserId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.CountryScalarFieldEnum = {
  id: 'id',
  name: 'name',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductSubcategoryScalarFieldEnum = {
  id: 'id',
  name: 'name',
  isActive: 'isActive',
  deletedAt: 'deletedAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ParamValueScalarFieldEnum = {
  id: 'id',
  paramType: 'paramType',
  subcategoryId: 'subcategoryId',
  productId: 'productId',
  valueNum: 'valueNum',
  valueInt: 'valueInt',
  valueText: 'valueText',
  valueNumMin: 'valueNumMin',
  valueNumMax: 'valueNumMax',
  valueIntMin: 'valueIntMin',
  valueIntMax: 'valueIntMax',
  label: 'label',
  sortOrder: 'sortOrder',
  isActive: 'isActive',
  deletedAt: 'deletedAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ProductParamExclusionScalarFieldEnum = {
  id: 'id',
  productId: 'productId',
  paramValueId: 'paramValueId'
};

exports.Prisma.CustomerProductVariantScalarFieldEnum = {
  id: 'id',
  customerProductId: 'customerProductId',
  lengthParamValueId: 'lengthParamValueId',
  widthParamValueId: 'widthParamValueId',
  weightParamValueId: 'weightParamValueId',
  processingParamValueId: 'processingParamValueId',
  sortOrder: 'sortOrder',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SortOrder = {
  asc: 'asc',
  desc: 'desc'
};

exports.Prisma.NullableJsonNullValueInput = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull
};

exports.Prisma.JsonNullValueInput = {
  JsonNull: Prisma.JsonNull
};

exports.Prisma.QueryMode = {
  default: 'default',
  insensitive: 'insensitive'
};

exports.Prisma.NullsOrder = {
  first: 'first',
  last: 'last'
};

exports.Prisma.JsonNullValueFilter = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull,
  AnyNull: Prisma.AnyNull
};
exports.ParamType = exports.$Enums.ParamType = {
  LENGTH_CM: 'LENGTH_CM',
  WIDTH_CM: 'WIDTH_CM',
  WEIGHT_G: 'WEIGHT_G',
  PROCESSING: 'PROCESSING',
  HEIGHT_CM: 'HEIGHT_CM',
  THICKNESS_CM: 'THICKNESS_CM'
};

exports.ProductionOpType = exports.$Enums.ProductionOpType = {
  PRODUCTION: 'PRODUCTION',
  WRITEOFF: 'WRITEOFF',
  ADJUSTMENT: 'ADJUSTMENT'
};

exports.SupplierLedgerSourceType = exports.$Enums.SupplierLedgerSourceType = {
  PURCHASE: 'PURCHASE',
  SUPPLIER_RETURN: 'SUPPLIER_RETURN',
  SUPPLIER_PAYMENT: 'SUPPLIER_PAYMENT',
  OPENING_BALANCE: 'OPENING_BALANCE'
};

exports.SupplierPaymentMethod = exports.$Enums.SupplierPaymentMethod = {
  CASH: 'CASH',
  BANK: 'BANK',
  CARD: 'CARD',
  OTHER: 'OTHER'
};

exports.Prisma.ModelName = {
  User: 'User',
  District: 'District',
  Manager: 'Manager',
  Product: 'Product',
  UnitOfMeasure: 'UnitOfMeasure',
  Customer: 'Customer',
  CustomerAddress: 'CustomerAddress',
  CustomerCard: 'CustomerCard',
  CustomerCardItem: 'CustomerCardItem',
  CustomerCardItemPhoto: 'CustomerCardItemPhoto',
  CustomerProduct: 'CustomerProduct',
  Supplier: 'Supplier',
  OrderTelegramLog: 'OrderTelegramLog',
  SupplierProduct: 'SupplierProduct',
  Order: 'Order',
  OrderAttachment: 'OrderAttachment',
  OrderItem: 'OrderItem',
  OrderReturn: 'OrderReturn',
  OrderReturnItem: 'OrderReturnItem',
  ReturnAuditLog: 'ReturnAuditLog',
  Expeditor: 'Expeditor',
  Stock: 'Stock',
  StockTransaction: 'StockTransaction',
  SummaryOrderJournal: 'SummaryOrderJournal',
  SummaryOrderEvent: 'SummaryOrderEvent',
  SummaryOrdersJournal: 'SummaryOrdersJournal',
  AssemblyOrdersJournal: 'AssemblyOrdersJournal',
  ExpeditionJournal: 'ExpeditionJournal',
  DistributionJournal: 'DistributionJournal',
  ProductionStaff: 'ProductionStaff',
  ProductionJournal: 'ProductionJournal',
  ProductionItem: 'ProductionItem',
  ProductionItemValue: 'ProductionItemValue',
  PurchasePriceList: 'PurchasePriceList',
  PurchasePriceListSupplier: 'PurchasePriceListSupplier',
  PurchasePriceItem: 'PurchasePriceItem',
  SalesPriceList: 'SalesPriceList',
  SalesPriceItem: 'SalesPriceItem',
  ProductionMml: 'ProductionMml',
  ProductionMmlNode: 'ProductionMmlNode',
  ProductionRun: 'ProductionRun',
  ProductionRunValue: 'ProductionRunValue',
  ProductionAllocation: 'ProductionAllocation',
  ProductionAdjustment: 'ProductionAdjustment',
  PaymentType: 'PaymentType',
  Purchase: 'Purchase',
  PurchaseSupplier: 'PurchaseSupplier',
  PurchaseItem: 'PurchaseItem',
  TelegramBindRequest: 'TelegramBindRequest',
  TelegramInbox: 'TelegramInbox',
  OrderDraft: 'OrderDraft',
  OrderDraftItem: 'OrderDraftItem',
  OrderDraftMessage: 'OrderDraftMessage',
  TelegramOutbox: 'TelegramOutbox',
  CustomerSalesManager: 'CustomerSalesManager',
  CustomerMoneyRefund: 'CustomerMoneyRefund',
  Warehouse: 'Warehouse',
  SvodHeader: 'SvodHeader',
  SvodLine: 'SvodLine',
  SvodSupplierCol: 'SvodSupplierCol',
  SvodSupplierValue: 'SvodSupplierValue',
  SvodShipmentDistribution: 'SvodShipmentDistribution',
  ProductionDoc: 'ProductionDoc',
  ProductionInput: 'ProductionInput',
  ProductionOutput: 'ProductionOutput',
  ProductionCuttingLine: 'ProductionCuttingLine',
  MaterialReport: 'MaterialReport',
  MaterialReportLine: 'MaterialReportLine',
  MaterialReportDraft: 'MaterialReportDraft',
  MaterialReportDraftLine: 'MaterialReportDraftLine',
  ProductionLotClosure: 'ProductionLotClosure',
  ProductionClosure: 'ProductionClosure',
  ProductionClosureAudit: 'ProductionClosureAudit',
  Role: 'Role',
  Permission: 'Permission',
  UserRole: 'UserRole',
  RolePermission: 'RolePermission',
  SupplierLedger: 'SupplierLedger',
  SupplierReturn: 'SupplierReturn',
  SupplierReturnItem: 'SupplierReturnItem',
  SupplierPayment: 'SupplierPayment',
  Country: 'Country',
  ProductSubcategory: 'ProductSubcategory',
  ParamValue: 'ParamValue',
  ProductParamExclusion: 'ProductParamExclusion',
  CustomerProductVariant: 'CustomerProductVariant'
};
/**
 * Create the Client
 */
const config = {
  "generator": {
    "name": "client",
    "provider": {
      "fromEnvVar": null,
      "value": "prisma-client-js"
    },
    "output": {
      "value": "C:\\проекты\\meat\\meat\\server\\node_modules\\@prisma\\client",
      "fromEnvVar": null
    },
    "config": {
      "engineType": "library"
    },
    "binaryTargets": [
      {
        "fromEnvVar": null,
        "value": "windows",
        "native": true
      }
    ],
    "previewFeatures": [],
    "sourceFilePath": "C:\\проекты\\meat\\meat\\server\\prisma\\schema.prisma"
  },
  "relativeEnvPaths": {
    "rootEnvPath": null,
    "schemaEnvPath": "../../../.env"
  },
  "relativePath": "../../../prisma",
  "clientVersion": "6.19.2",
  "engineVersion": "c2990dca591cba766e3b7ef5d9e8a84796e47ab7",
  "datasourceNames": [
    "db"
  ],
  "activeProvider": "postgresql",
  "inlineDatasources": {
    "db": {
      "url": {
        "fromEnvVar": "DATABASE_URL",
        "value": null
      }
    }
  },
  "inlineSchema": "generator client {\n  provider = \"prisma-client-js\"\n}\n\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\nenum ParamType {\n  LENGTH_CM\n  WIDTH_CM\n  WEIGHT_G\n  PROCESSING\n  HEIGHT_CM\n  THICKNESS_CM\n}\n\nmodel User {\n  id                      Int                     @id @default(autoincrement())\n  username                String                  @unique\n  password                String\n  name                    String\n  role                    String                  @default(\"USER\")\n  telegramId              String?                 @unique\n  isActive                Boolean                 @default(true) // RBAC: can be disabled by admin\n  authVersion             Int                     @default(1) // RBAC: increment to force re-login\n  createdAt               DateTime                @default(now())\n  updatedAt               DateTime                @updatedAt\n  productionStaff         ProductionStaff?\n  // Expeditor link (optional 1:1)\n  expeditor               Expeditor?\n  // RBAC: User -> Role assignments\n  userRoles               UserRole[]\n  // Production Module v2 relations\n  createdMmls             ProductionMml[]         @relation(\"MmlCreator\")\n  productionRuns          ProductionRun[]         @relation(\"RunUser\")\n  // Purchase Module relations\n  purchases               Purchase[]              @relation(\"PurchaseCreator\")\n  // Warehouse Module relations\n  warehouses              Warehouse[]             @relation(\"WarehouseResponsible\")\n  // Production-Purchase Integration\n  productionDocs          ProductionDoc[]         @relation(\"ProductionDocCreator\")\n  productionInputs        ProductionInput[]       @relation(\"ProductionInputLoader\")\n  cuttingLines            ProductionCuttingLine[] @relation(\"CuttingLineCreator\")\n  // Production V3: Adjustments\n  createdAdjustments      ProductionAdjustment[]  @relation(\"AdjustmentCreator\")\n  voidedAdjustments       ProductionAdjustment[]  @relation(\"AdjustmentVoider\")\n  // Supplier Account Module\n  supplierReturnsCreated  SupplierReturn[]        @relation(\"SupplierReturnCreator\")\n  supplierPaymentsCreated SupplierPayment[]       @relation(\"SupplierPaymentCreator\")\n  supplierPaymentsDeleted SupplierPayment[]       @relation(\"SupplierPaymentDeleter\")\n  // Telegram Bot Module\n  telegramBoundCustomers  Customer[]              @relation(\"TelegramBoundBy\")\n  telegramBindRequests    TelegramBindRequest[]   @relation(\"BindRequestCreator\")\n  // Sales Manager Module\n  customerSalesManagers   CustomerSalesManager[]\n  csmAssignedBy           CustomerSalesManager[]  @relation(\"CSM_AssignedBy\")\n  csmUnassignedBy         CustomerSalesManager[]  @relation(\"CSM_UnassignedBy\")\n  draftRejectedBy         OrderDraft[]            @relation(\"OrderDraftRejectedBy\")\n  draftAcceptedBy         OrderDraft[]            @relation(\"OrderDraftAcceptedBy\")\n  customerRefundsCreated  CustomerMoneyRefund[]   @relation(\"CustomerRefundCreator\")\n  customerRefundsUpdated  CustomerMoneyRefund[]   @relation(\"CustomerRefundUpdater\")\n  customerRefundsDeleted  CustomerMoneyRefund[]   @relation(\"CustomerRefundDeleter\")\n}\n\nmodel District {\n  id        Int        @id @default(autoincrement())\n  code      String     @unique\n  name      String\n  customers Customer[]\n}\n\nmodel Manager {\n  id        Int        @id @default(autoincrement())\n  code      String     @unique\n  name      String\n  phone     String?\n  customers Customer[]\n}\n\nmodel Product {\n  id                       Int                       @id @default(autoincrement())\n  code                     String                    @unique\n  name                     String // Полное название\n  altName                  String? // Альтернативное название\n  priceListName            String? // Название прайс-листа (было shortNameMorning)\n  category                 String?\n  status                   String                    @default(\"active\")\n  coefficient              Float                     @default(1.0)\n  lossNorm                 Float                     @default(0.0)\n  participatesInProduction Boolean                   @default(false) // Участие в производстве - если true, товар подгружается в производство при закупке\n  createdAt                DateTime                  @default(now())\n  updatedAt                DateTime                  @updatedAt\n  orderItems               OrderItem[]\n  stock                    Stock?\n  stockTransactions        StockTransaction[]\n  suppliers                SupplierProduct[]\n  summaryJournalEntries    SummaryOrderJournal[]\n  productionItems          ProductionItem[]\n  purchasePriceItems       PurchasePriceItem[]\n  salesPriceItems          SalesPriceItem[]\n  // Production Module v2 relations\n  productionMmls           ProductionMml[] // MML для этого товара\n  mmlNodes                 ProductionMmlNode[]       @relation(\"MmlNodeProduct\") // Узлы MML где этот товар\n  productionRuns           ProductionRun[]           @relation(\"ProductRuns\") // Выработки этого товара\n  runValueSnapshots        ProductionRunValue[]      @relation(\"RunValueSnapshot\") // Снимки значений\n  // Purchase Module relations\n  purchaseItemsRel         PurchaseItem[]            @relation(\"PurchaseItemProduct\") // Строки закупок с этим товаром\n  // SVOD Module relations\n  svodLines                SvodLine[]\n  svodSupplierValues       SvodSupplierValue[]\n  // Production-Purchase Integration\n  productionInputs         ProductionInput[]         @relation(\"ProductionInputProduct\")\n  productionOutputs        ProductionOutput[]        @relation(\"ProductionOutputProduct\")\n  cuttingLineOutputs       ProductionCuttingLine[]   @relation(\"CuttingLineOutput\")\n  // Customer-specific product catalogs\n  customerProducts         CustomerProduct[]\n  // Customer Card items (карточки клиентов с описаниями и фото)\n  customerCardItems        CustomerCardItem[]\n  // Material Report relations\n  materialReportLines      MaterialReportLine[]\n  materialReportDraftLines MaterialReportDraftLine[]\n  // Returns relations\n  orderReturnItems         OrderReturnItem[]\n  // Production Closure relations\n  productionClosures       ProductionClosure[]       @relation(\"ProductionClosures\")\n  // Production V3: Adjustments\n  productionAdjustments    ProductionAdjustment[]\n\n  // UoM\n  uomId Int?\n  uom   UnitOfMeasure? @relation(fields: [uomId], references: [id])\n\n  // Supplier Account Module\n  supplierReturnItems SupplierReturnItem[]\n\n  // Product Catalog: Country & Subcategory\n  countryId       Int?\n  country         Country?                @relation(fields: [countryId], references: [id])\n  subcategoryId   Int?\n  subcategory     ProductSubcategory?     @relation(fields: [subcategoryId], references: [id])\n  productParams   ParamValue[]            @relation(\"ProductParams\")\n  paramExclusions ProductParamExclusion[]\n\n  @@index([countryId])\n  @@index([subcategoryId])\n}\n\nmodel UnitOfMeasure {\n  id        Int       @id @default(autoincrement())\n  name      String    @unique\n  code      String?   @unique // Стабильный ключ базовой ЕИ (BLOCK, KG, M, MM, PACK, CM, UP, PCS)\n  isBase    Boolean   @default(false) // Базовая ЕИ (заполняется через \"Заполнить базовые\")\n  isDefault Boolean   @default(false)\n  isActive  Boolean   @default(true)\n  createdAt DateTime  @default(now())\n  updatedAt DateTime  @updatedAt\n  products  Product[]\n}\n\nmodel Customer {\n  id                    Int                    @id @default(autoincrement())\n  code                  String                 @unique\n  name                  String\n  legalName             String?\n  inn                   String?                @db.VarChar(9) // ИНН клиента (до 9 символов)\n  // Telegram — витрина (не для логики бота)\n  telegramGroupName     String? // Название группы в Telegram\n  telegramGroupUsername String? // Никнейм группы (@username)\n  // Telegram — binding (ключ связки с ботом)\n  telegramChatId        BigInt?                @unique // chat.id из Bot API — единственный стабильный ключ\n  telegramChatType      String? // \"group\" | \"supergroup\"\n  telegramIsEnabled     Boolean                @default(true) // можно выключить без отвязки\n  telegramBoundAt       DateTime?\n  telegramBoundByUserId Int? // FK → User.id (кто привязал)\n  districtId            String?\n  managerId             String?\n  createdAt             DateTime               @default(now())\n  updatedAt             DateTime               @updatedAt\n  district              District?              @relation(fields: [districtId], references: [code])\n  manager               Manager?               @relation(fields: [managerId], references: [code])\n  telegramBoundByUser   User?                  @relation(\"TelegramBoundBy\", fields: [telegramBoundByUserId], references: [id])\n  orders                Order[]\n  summaryJournalEntries SummaryOrderJournal[]\n  salesPriceLists       SalesPriceList[]\n  // Customer-specific product catalog (персональный каталог товаров клиента)\n  customerProducts      CustomerProduct[]\n  // Карточки клиента (MML с описаниями и фото)\n  customerCards         CustomerCard[]\n  // Telegram Bot Module\n  telegramBindRequests  TelegramBindRequest[]\n  orderDrafts           OrderDraft[]\n  telegramOutbox        TelegramOutbox[]\n  // Sales Manager Module\n  salesManagers         CustomerSalesManager[]\n  moneyRefunds          CustomerMoneyRefund[]\n  // Geolocation: Справочник адресов доставки клиента\n  addresses             CustomerAddress[]\n}\n\n// Справочник адресов доставки клиента (геолокации)\nmodel CustomerAddress {\n  id         Int      @id @default(autoincrement())\n  customerId Int\n  customer   Customer @relation(fields: [customerId], references: [id], onDelete: Cascade)\n\n  label       String? // \"Дом\", \"Работа\", \"Точка №3\"\n  addressText String // Строка адреса\n  lat         Decimal @db.Decimal(9, 6) // Широта\n  lng         Decimal @db.Decimal(9, 6) // Долгота\n  accuracyM   Int? // Точность GPS в метрах\n  comment     String? // Подъезд/код/ориентир\n\n  isDefault Boolean @default(false) // У клиента максимум один default\n\n  createdAt DateTime  @default(now())\n  updatedAt DateTime  @updatedAt\n  deletedAt DateTime? // Soft delete\n\n  orders Order[]\n\n  @@index([customerId])\n  @@index([customerId, isDefault])\n}\n\n// Карточка клиента - набор позиций MML с описаниями и фото для конкретного клиента\nmodel CustomerCard {\n  id         Int      @id @default(autoincrement())\n  customerId Int // FK → Customer\n  name       String // Название карточки (например \"Основной ассортимент\")\n  isActive   Boolean  @default(true)\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n\n  customer Customer           @relation(fields: [customerId], references: [id], onDelete: Cascade)\n  items    CustomerCardItem[]\n\n  @@index([customerId])\n}\n\n// Позиция в карточке клиента - товар с описанием и фото\nmodel CustomerCardItem {\n  id          Int      @id @default(autoincrement())\n  cardId      Int // FK → CustomerCard\n  productId   Int // FK → Product (товар из MML)\n  description String?  @db.Text // Детальное описание разделки\n  sortOrder   Int      @default(0)\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n\n  card    CustomerCard            @relation(fields: [cardId], references: [id], onDelete: Cascade)\n  product Product                 @relation(fields: [productId], references: [id])\n  photos  CustomerCardItemPhoto[]\n\n  @@unique([cardId, productId])\n  @@index([cardId])\n  @@index([productId])\n}\n\n// Фото для позиции карточки клиента (до 3 фото на позицию)\nmodel CustomerCardItemPhoto {\n  id        Int      @id @default(autoincrement())\n  itemId    Int // FK → CustomerCardItem\n  url       String // URL фото\n  sortOrder Int      @default(0) // Порядок фото (0, 1, 2)\n  createdAt DateTime @default(now())\n\n  item CustomerCardItem @relation(fields: [itemId], references: [id], onDelete: Cascade)\n\n  @@index([itemId])\n}\n\n// Связь клиента с его товарами (персональный каталог)\n// Позволяет клиенту видеть только те товары, которые он обычно заказывает\nmodel CustomerProduct {\n  id         Int      @id @default(autoincrement())\n  customerId Int // FK → Customer\n  productId  Int // FK → Product\n  sortOrder  Int      @default(0) // Порядок отображения в каталоге клиента\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n\n  customer Customer @relation(fields: [customerId], references: [id], onDelete: Cascade)\n  product  Product  @relation(fields: [productId], references: [id])\n\n  variants CustomerProductVariant[]\n\n  @@unique([customerId, productId]) // Один товар - один раз у клиента\n  @@index([customerId])\n  @@index([productId])\n}\n\nmodel Supplier {\n  id               Int      @id @default(autoincrement())\n  code             String   @unique\n  name             String\n  legalName        String?\n  altName          String? // Альтернативное название поставщика\n  phone            String? // Телефон поставщика\n  telegram         String? // Telegram username поставщика\n  telegramChatId   BigInt? // Telegram chat/group ID для отправки заказов\n  telegramThreadId Int? // Topic thread ID (опционально)\n  telegramEnabled  Boolean  @default(false) // Разрешена ли отправка\n  isActive         Boolean  @default(true) // Статус активности\n  primaryMmlId     Int? // FK -> ProductionMml (первичный MML поставщика)\n  createdAt        DateTime @default(now())\n  updatedAt        DateTime @updatedAt\n\n  primaryMml                 ProductionMml?              @relation(\"SupplierPrimaryMml\", fields: [primaryMmlId], references: [id])\n  products                   SupplierProduct[]\n  purchasePriceListSuppliers PurchasePriceListSupplier[]\n  purchasePriceItems         PurchasePriceItem[]\n  // Purchase Module relations\n  purchases                  PurchaseSupplier[]\n  purchaseItems              PurchaseItem[]\n  // SVOD Module relations\n  svodSupplierCols           SvodSupplierCol[]\n  svodSupplierValues         SvodSupplierValue[]\n  // Supplier Account Module\n  supplierReturns            SupplierReturn[]\n  supplierPayments           SupplierPayment[]\n  supplierLedger             SupplierLedger[]\n  // Telegram send logs\n  orderTelegramLogs          OrderTelegramLog[]\n}\n\n// Лог отправок заказов поставщику в Telegram\nmodel OrderTelegramLog {\n  id           Int       @id @default(autoincrement())\n  orderId      Int?\n  supplierId   Int\n  chatId       BigInt\n  threadId     Int?\n  status       String    @default(\"QUEUED\")\n  // QUEUED | SENT | FAILED\n  text         String?\n  error        String?\n  sentByUserId Int?\n  sentAt       DateTime?\n  createdAt    DateTime  @default(now())\n\n  supplier Supplier @relation(fields: [supplierId], references: [id], onDelete: Cascade)\n\n  @@index([supplierId, createdAt])\n  @@index([orderId])\n}\n\nmodel SupplierProduct {\n  supplierId Int\n  productId  Int\n  product    Product  @relation(fields: [productId], references: [id])\n  supplier   Supplier @relation(fields: [supplierId], references: [id])\n\n  @@id([supplierId, productId])\n}\n\nmodel Order {\n  id          Int      @id @default(autoincrement())\n  idn         String? // Сквозной идентификатор из Сводки\n  date        DateTime @default(now())\n  status      String   @default(\"NEW\") // FSM: NEW → IN_ASSEMBLY → DISTRIBUTING → LOADED → SHIPPED\n  paymentType String?\n  customerId  Int\n  expeditorId Int?\n  totalAmount Decimal  @default(0.0)\n  totalWeight Float    @default(0.0)\n  isDisabled  Boolean  @default(false) // Отключенный заказ (soft-disable)\n\n  // FSM: Бизнес-дата распределения (календарный день в Asia/Tashkent)\n  dispatchDay DateTime? @db.Date\n\n  // FSM: Timestamps событий (UTC)\n  assemblyStartedAt   DateTime? // Когда начата сборка (NEW → IN_ASSEMBLY)\n  assemblyConfirmedAt DateTime? // Когда подтверждена сборка (IN_ASSEMBLY → DISTRIBUTING)\n  loadedAt            DateTime? // Когда погружен в машину (DISTRIBUTING → LOADED)\n  shippedAt           DateTime? // Когда отгружен (LOADED → SHIPPED)\n\n  // FSM: Кто выполнял действия (auditing)\n  assemblyStartedBy   String? // Username кто начал сборку\n  assemblyConfirmedBy String? // Username кто подтвердил сборку\n  loadedBy            String? // Username кто погрузил (назначил экспедитора)\n  shippedBy           String? // Username кто подтвердил отгрузку\n\n  // Expedition fields (legacy, сохраняем для совместимости)\n  deliveryAddress  String? // Адрес доставки/точка\n  assignedAt       DateTime? // Когда назначен экспедитор\n  deliveryStatus   String    @default(\"pending\") // pending, in_delivery, delivered\n  completedAt      DateTime? // Когда заказ выполнен\n  signatureUrl     String? // Путь к PNG подписи клиента\n  signedInvoiceUrl String? // Путь к подписанной накладной PNG\n\n  // Delivery geo snapshot (снапшот геолокации доставки)\n  deliveryLat       Decimal? @db.Decimal(9, 6) // Широта доставки\n  deliveryLng       Decimal? @db.Decimal(9, 6) // Долгота доставки\n  deliveryAccuracyM Int? // Точность GPS в метрах\n  deliveryComment   String? // Комментарий к доставке (подъезд/код)\n\n  // Link to saved customer address (optional, for traceability)\n  customerAddressId Int?\n  customerAddress   CustomerAddress? @relation(fields: [customerAddressId], references: [id], onDelete: SetNull)\n\n  // Возвраты: агрегаты для быстрого отображения в Сводке\n  returnTotalQty Float   @default(0) // Общее кол-во возврата\n  returnTotalSum Decimal @default(0) // Сумма возврата\n  netTotalSum    Decimal @default(0) // Сумма заказа минус возврат\n\n  // ТЗ v2 §7: Флаг редактирования заказа\n  isEdited Boolean   @default(false) // Был ли заказ отредактирован\n  editedAt DateTime? // Когда заказ был отредактирован\n\n  createdAt         DateTime           @default(now())\n  updatedAt         DateTime           @updatedAt\n  customer          Customer           @relation(fields: [customerId], references: [id])\n  expeditor         Expeditor?         @relation(fields: [expeditorId], references: [id])\n  items             OrderItem[]\n  stockTransactions StockTransaction[]\n  attachments       OrderAttachment[]\n  returns           OrderReturn[] // Документы возвратов\n  returnAuditLogs   ReturnAuditLog[] // Аудит-лог возвратов\n  // Telegram Bot — источник заказа\n  draftId           Int?               @unique\n  draft             OrderDraft?        @relation(fields: [draftId], references: [id])\n\n  @@index([date])\n  @@index([isDisabled])\n  @@index([isDisabled, date])\n  @@index([dispatchDay])\n  @@index([status, dispatchDay])\n  @@index([customerAddressId])\n}\n\n// Вложения к заказу (подписи, накладные, документы)\nmodel OrderAttachment {\n  id        Int      @id @default(autoincrement())\n  orderId   Int\n  type      String // \"signature\", \"signed_invoice\", \"document\"\n  filename  String\n  url       String // Путь к файлу\n  mimeType  String? // image/png, application/pdf\n  createdAt DateTime @default(now())\n  order     Order    @relation(fields: [orderId], references: [id], onDelete: Cascade)\n}\n\nmodel OrderItem {\n  id                 Int                  @id @default(autoincrement())\n  orderId            Int\n  productId          Int\n  quantity           Float\n  price              Decimal\n  amount             Decimal\n  shippedQty         Float                @default(0.0)\n  qtyReturn          Float                @default(0) // Кол-во возврата по позиции\n  createdAt          DateTime             @default(now())\n  updatedAt          DateTime             @updatedAt\n  distributionCoef   Float?               @default(0.0)\n  sumWithRevaluation Decimal?             @default(0.0)\n  weightToDistribute Float?               @default(0.0)\n  order              Order                @relation(fields: [orderId], references: [id], onDelete: Cascade)\n  product            Product              @relation(fields: [productId], references: [id])\n  // Связь с SummaryOrderJournal (обратная синхронизация)\n  summaryEntry       SummaryOrderJournal?\n  returnItems        OrderReturnItem[] // Позиции возвратов\n}\n\n// =============================================\n// ВОЗВРАТЫ ИЗ ТОЧЕК\n// =============================================\n\n// Шапка возврата (один документ на заказ в рамках экспедиции)\nmodel OrderReturn {\n  id           Int      @id @default(autoincrement())\n  orderId      Int // FK → Order\n  expeditionId Int // FK → ExpeditionJournal\n  createdBy    String // Username водителя\n  status       String   @default(\"saved\") // draft / saved\n  totalQty     Float    @default(0) // Общее кол-во возврата\n  totalSum     Decimal  @default(0) // Сумма возврата\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n\n  order      Order             @relation(fields: [orderId], references: [id], onDelete: Cascade)\n  expedition ExpeditionJournal @relation(fields: [expeditionId], references: [id])\n  items      OrderReturnItem[]\n\n  @@unique([orderId, expeditionId]) // ТЗ §5.1: один возврат на заказ в экспедиции\n  @@index([orderId])\n  @@index([expeditionId])\n}\n\n// Позиции возврата (по каждому товару)\nmodel OrderReturnItem {\n  id          Int      @id @default(autoincrement())\n  returnId    Int // FK → OrderReturn\n  orderItemId Int // FK → OrderItem\n  productId   Int // FK → Product\n  qtyShip     Float // Кол-во к отгрузке (фиксация на момент возврата)\n  qtyReturn   Float // Кол-во возврата\n  price       Decimal // Цена (фиксация)\n  sumShip     Decimal // qtyShip * price\n  sumNet      Decimal // (qtyShip - qtyReturn) * price\n  createdAt   DateTime @default(now())\n\n  orderReturn OrderReturn @relation(fields: [returnId], references: [id], onDelete: Cascade)\n  orderItem   OrderItem   @relation(fields: [orderItemId], references: [id])\n  product     Product     @relation(fields: [productId], references: [id])\n\n  @@index([returnId])\n  @@index([orderItemId])\n}\n\n// Аудит-лог возвратов (ТЗ §9)\nmodel ReturnAuditLog {\n  id           Int      @id @default(autoincrement())\n  orderId      Int // FK → Order\n  returnId     Int? // FK → OrderReturn (null при DELETE)\n  expeditionId Int // ID экспедиции\n  action       String // CREATED, UPDATED, DELETED\n  performedBy  String // Username выполнившего действие\n  totalQty     Float // Кол-во возврата на момент события\n  totalSum     Decimal // Сумма возврата на момент события\n  details      Json? // Доп. данные (позиции, причина и т.д.)\n  createdAt    DateTime @default(now())\n\n  order Order @relation(fields: [orderId], references: [id], onDelete: Cascade)\n\n  @@index([orderId])\n  @@index([expeditionId])\n  @@index([action])\n  @@index([createdAt])\n}\n\nmodel Expeditor {\n  id        Int      @id @default(autoincrement())\n  name      String\n  phone     String?\n  isActive  Boolean  @default(true)\n  userId    Int?     @unique // Optional 1:1 link to User\n  user      User?    @relation(fields: [userId], references: [id])\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  orders    Order[]\n}\n\nmodel Stock {\n  productId Int      @id\n  quantity  Float    @default(0.0)\n  updatedAt DateTime @updatedAt\n  product   Product  @relation(fields: [productId], references: [id])\n}\n\nmodel StockTransaction {\n  id        Int      @id @default(autoincrement())\n  productId Int\n  type      String\n  quantity  Float\n  orderId   Int?\n  note      String?\n  createdAt DateTime @default(now())\n  order     Order?   @relation(fields: [orderId], references: [id])\n  product   Product  @relation(fields: [productId], references: [id])\n}\n\n// Журнал сводных заказов (Summary Orders Journal)\nmodel SummaryOrderJournal {\n  id                 Int      @id @default(autoincrement())\n  idn                String // Сквозной идентификатор (одинаковый для одной даты)\n  shipDate           DateTime // Дата отгрузки\n  paymentType        String?  @default(\"bank\") // Тип оплаты (cash/terminal/bank) - по умолчанию \"Перечисление\"\n  customerId         Int? // Ссылка на клиента\n  customerName       String // Название клиента\n  productId          Int? // Ссылка на товар\n  productCode        String? // Код товара\n  productFullName    String // Полное название товара\n  category           String? // КП Категория\n  shortNameMorning   String? // Название прайс-листа\n  priceType          String? // Тип цены\n  price              Decimal  @default(0.0) // Цена продажи\n  shippedQty         Float    @default(0.0) // Отгружено по факту\n  orderQty           Float    @default(0.0) // Заказ (кол-во)\n  sumWithRevaluation Decimal? @default(0.0) // Сумма = цена * факт\n  distributionCoef   Float?   @default(0.0) // Коэффициент распределения %\n  weightToDistribute Float?   @default(0.0) // Вес к распределению\n  managerId          String? // ID менеджера\n  managerName        String? // ФИО менеджера\n  district           String? // Район (из клиента)\n  pointAddress       String? // Адрес точки доставки\n  status             String   @default(\"draft\") // draft, forming, synced, rework\n\n  // Assembly tracking fields (Отслеживание сборки)\n  preAssemblyStatus     String? // Предыдущий статус до отправки в сборку (для возврата)\n  assemblyStartedAt     DateTime? // Когда отправлен в сборку\n  assemblyStartedBy     String? // Кто отправил в сборку (username)\n  assemblyReturnedAt    DateTime? // Когда вернули со сборки\n  assemblyReturnedBy    String? // Кто вернул со сборки (username)\n  assemblyReturnReason  String? // Причина возврата\n  assemblyReturnComment String? // Комментарий к возврату\n\n  // Confirmation tracking (кто подтвердил/сохранил позицию)\n  confirmedBy String? // Username кто подтвердил\n  confirmedAt DateTime? // Когда подтверждено\n\n  createdAt DateTime            @default(now())\n  updatedAt DateTime            @updatedAt\n  customer  Customer?           @relation(fields: [customerId], references: [id])\n  product   Product?            @relation(fields: [productId], references: [id])\n  events    SummaryOrderEvent[] // История событий\n\n  // Связь с OrderItem (для обратной синхронизации при редактировании заказа)\n  orderItemId Int?       @unique // FK -> OrderItem\n  orderItem   OrderItem? @relation(fields: [orderItemId], references: [id])\n\n  @@index([shipDate])\n  @@index([customerId])\n  @@index([category])\n  @@index([district])\n  @@index([managerId])\n  @@index([status])\n  @@index([createdAt]) // Для быстрой сортировки\n  @@index([shipDate, status]) // Составной индекс для часто используемого фильтра\n  @@index([status, createdAt(sort: Desc)]) // Для быстрого получения последних записей по статусу\n}\n\n// История событий для записей сводки заказов\nmodel SummaryOrderEvent {\n  id             Int      @id @default(autoincrement())\n  summaryOrderId Int // FK -> SummaryOrderJournal\n  eventType      String // ASSEMBLY_START, ASSEMBLY_RETURN, STATUS_CHANGE, SYNC_TO_ORDER\n  fromStatus     String? // Предыдущий статус\n  toStatus       String? // Новый статус\n  reason         String? // Причина (для возврата)\n  comment        String? // Комментарий\n  createdAt      DateTime @default(now())\n  createdBy      String // Username кто сделал\n  payload        Json? // Дополнительные данные (опционально)\n\n  summaryOrder SummaryOrderJournal @relation(fields: [summaryOrderId], references: [id], onDelete: Cascade)\n\n  @@index([summaryOrderId])\n  @@index([eventType])\n  @@index([createdAt])\n}\n\n// Журнал сводок заказов - хранит снимки формы \"Сводка заказов\"\nmodel SummaryOrdersJournal {\n  id          Int      @id @default(autoincrement())\n  summaryDate DateTime // дата сводки\n  createdAt   DateTime @default(now())\n  createdBy   String // имя пользователя\n  isHidden    Boolean  @default(false)\n  data        Json // все данные формы сводки\n}\n\n// Журнал сборок заказов - хранит снимки формы \"Сборка заказов\"\nmodel AssemblyOrdersJournal {\n  id              Int      @id @default(autoincrement())\n  assemblyDate    DateTime // дата сборки\n  createdAt       DateTime @default(now())\n  createdBy       String\n  isHidden        Boolean  @default(false)\n  sourceSummaryId Int? // ссылка на журнал сводки\n  data            Json // все данные сборки\n}\n\n// Журнал экспедиции - хранит снимки формы \"Экспедиция\"\nmodel ExpeditionJournal {\n  id            Int      @id @default(autoincrement())\n  expeditorId   Int // FK -> Expeditor (экспедитор)\n  expeditorName String // Имя экспедитора (кэш)\n  dateFrom      DateTime // Дата с\n  dateTo        DateTime // Дата по\n  status        String   @default(\"open\") // open / closed\n  ordersCount   Int      @default(0) // Количество заказов\n  totalWeight   Float    @default(0.0) // Общий вес\n  totalAmount   Decimal  @default(0.0) // Общая сумма\n  createdAt     DateTime @default(now())\n  isHidden      Boolean  @default(false)\n  data          Json // все данные заказов экспедиции\n\n  returns OrderReturn[] // Возвраты в этой экспедиции\n\n  @@index([expeditorId])\n  @@index([dateFrom, dateTo])\n  @@index([isHidden])\n  @@index([status])\n}\n\n// Журнал распределения - хранит снимки формы \"Распределение\"\nmodel DistributionJournal {\n  id          Int      @id @default(autoincrement())\n  date        DateTime // Дата распределения\n  ordersCount Int      @default(0) // Количество заказов\n  totalWeight Float    @default(0.0) // Общий вес\n  totalAmount Decimal  @default(0.0) // Общая сумма\n  createdAt   DateTime @default(now())\n  isHidden    Boolean  @default(false)\n  data        Json // все данные заказов распределения\n\n  @@index([date])\n  @@index([isHidden])\n}\n\n// ============================================\n// МОДУЛЬ ПРОИЗВОДСТВА (обновлённый)\n// ============================================\n\n// Справочник \"Производственный персонал\"\nmodel ProductionStaff {\n  id        Int      @id @default(autoincrement())\n  fullName  String // ФИО\n  phone     String? // Телефон\n  userId    Int      @unique // FK -> User (связь с системным пользователем)\n  isActive  Boolean  @default(true)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  user      User                 @relation(fields: [userId], references: [id])\n  journals  ProductionJournal[]\n  runValues ProductionRunValue[] // Значения выработки, внесённые этим сотрудником\n}\n\n// Журнал производства - один документ = одна дата + один мясник\nmodel ProductionJournal {\n  id             Int      @id @default(autoincrement())\n  productionDate DateTime // Дата производства\n  staffId        Int // FK -> ProductionStaff (мясник)\n  status         String   @default(\"draft\") // draft / saved / archived\n  createdAt      DateTime @default(now())\n  updatedAt      DateTime @updatedAt\n  createdBy      String\n  updatedBy      String?\n\n  staff ProductionStaff  @relation(fields: [staffId], references: [id])\n  items ProductionItem[]\n\n  @@unique([productionDate, staffId]) // Один документ на дату на мясника\n  @@index([productionDate])\n  @@index([staffId, productionDate])\n}\n\n// Карточки/иконки производства (экземпляры записей)\nmodel ProductionItem {\n  id          Int       @id @default(autoincrement())\n  journalId   Int // FK -> ProductionJournal\n  productId   Int? // FK -> Product (может быть NULL пока карточка пустая)\n  productName String? // Кэш названия товара\n  state       String    @default(\"editing\") // editing / locked\n  sortOrder   Int       @default(0)\n  isDeleted   Boolean   @default(false)\n  deletedAt   DateTime?\n  deletedBy   String?\n  createdAt   DateTime  @default(now())\n  updatedAt   DateTime  @updatedAt\n  createdBy   String\n  updatedBy   String?\n\n  journal ProductionJournal     @relation(fields: [journalId], references: [id], onDelete: Cascade)\n  product Product?              @relation(fields: [productId], references: [id])\n  values  ProductionItemValue[]\n}\n\n// Значения полей выработки (расширяемая таблица)\nmodel ProductionItemValue {\n  id               Int      @id @default(autoincrement())\n  productionItemId Int // FK -> ProductionItem\n  fieldKey         String // Ключ поля (qty, weight, etc.)\n  fieldValue       String? // Значение\n  updatedAt        DateTime @updatedAt\n  updatedBy        String?\n\n  productionItem ProductionItem @relation(fields: [productionItemId], references: [id], onDelete: Cascade)\n\n  @@unique([productionItemId, fieldKey])\n}\n\n// ============================================\n// ПОДСИСТЕМА ПРАЙС-ЛИСТОВ\n// ============================================\n\n// Закупочный прайс - шапка документа (ЖУРНАЛ)\nmodel PurchasePriceList {\n  id        Int      @id @default(autoincrement())\n  date      DateTime // Общая дата прайса / дата вступления в силу\n  name      String? // Название/комментарий (опционально)\n  isActive  Boolean  @default(true) // Статус (true=активный, false=отключен)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n  createdBy String\n  updatedBy String?\n\n  suppliers PurchasePriceListSupplier[]\n  items     PurchasePriceItem[]\n\n  @@index([date])\n  @@index([isActive, date])\n}\n\n// Связь прайса и поставщика (многие-ко-многим)\n// При сохранении фиксируется первичный MML поставщика на момент создания\nmodel PurchasePriceListSupplier {\n  id           Int      @id @default(autoincrement())\n  priceListId  Int // FK -> PurchasePriceList\n  supplierId   Int // FK -> Supplier\n  primaryMmlId Int? // FK -> ProductionMml (зафиксированный первичный MML на момент создания прайса)\n  createdAt    DateTime @default(now())\n\n  priceList  PurchasePriceList @relation(fields: [priceListId], references: [id], onDelete: Cascade)\n  supplier   Supplier          @relation(fields: [supplierId], references: [id])\n  primaryMml ProductionMml?    @relation(\"PriceListSupplierMml\", fields: [primaryMmlId], references: [id])\n\n  @@unique([priceListId, supplierId])\n  @@index([supplierId])\n  @@index([primaryMmlId])\n}\n\n// Закупочный прайс - строки (товары по поставщикам)\nmodel PurchasePriceItem {\n  id            Int      @id @default(autoincrement())\n  priceListId   Int // FK -> PurchasePriceList\n  supplierId    Int // FK -> Supplier\n  productId     Int // FK -> Product\n  purchasePrice Decimal  @db.Decimal(14, 2) // Закупочная цена\n  createdAt     DateTime @default(now())\n  updatedAt     DateTime @updatedAt\n\n  priceList PurchasePriceList @relation(fields: [priceListId], references: [id], onDelete: Cascade)\n  supplier  Supplier          @relation(fields: [supplierId], references: [id])\n  product   Product           @relation(fields: [productId], references: [id])\n\n  @@unique([priceListId, supplierId, productId])\n  @@index([productId])\n  @@index([supplierId])\n}\n\n// Продажный прайс - шапка документа\nmodel SalesPriceList {\n  id            Int      @id @default(autoincrement())\n  listType      String // GENERAL / CUSTOMER\n  customerId    Int? // FK -> Customer (только для CUSTOMER)\n  title         String? // Название/комментарий\n  effectiveDate DateTime // Дата вступления в силу (обязательная)\n  status        String   @default(\"draft\") // draft / saved / archived\n  isCurrent     Boolean  @default(false) // Текущий активный прайс\n  isHidden      Boolean  @default(false) // Скрыт в журнале\n  createdAt     DateTime @default(now())\n  updatedAt     DateTime @updatedAt\n  createdBy     String\n  updatedBy     String?\n\n  customer Customer?        @relation(fields: [customerId], references: [id])\n  items    SalesPriceItem[]\n\n  @@index([listType, isCurrent])\n  @@index([customerId, createdAt])\n  @@index([effectiveDate])\n  @@index([isHidden, listType])\n}\n\n// Продажный прайс - строки\nmodel SalesPriceItem {\n  id          Int      @id @default(autoincrement())\n  priceListId Int // FK -> SalesPriceList\n  productId   Int // FK -> Product\n  salePrice   Decimal  @db.Decimal(14, 2) // Цена продажи\n  rowDate     DateTime @default(now()) // Дата строки\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n  updatedBy   String?\n\n  priceList SalesPriceList @relation(fields: [priceListId], references: [id], onDelete: Cascade)\n  product   Product        @relation(fields: [productId], references: [id])\n\n  @@unique([priceListId, productId])\n  @@index([productId])\n  @@index([rowDate])\n}\n\n// ========== PRODUCTION V3: OPERATION TYPES ==========\n\nenum ProductionOpType {\n  PRODUCTION\n  WRITEOFF\n  ADJUSTMENT\n}\n\n// ========== PRODUCTION MODULE (v2 - Tree Structure) ==========\n\n// MML (калькуляция/техкарта) - шапка документа\n// Версионирование: несколько версий на один productId\n// Текущая версия = MAX(version) WHERE isDeleted=false\nmodel ProductionMml {\n  id          Int      @id @default(autoincrement())\n  productId   Int // Товар, для которого создан MML\n  createdBy   Int // User ID создателя\n  isLocked    Boolean  @default(false) // Frozen: есть consumers → нельзя менять структуру\n  isDeleted   Boolean  @default(false) // Мягкое удаление (soft delete)\n  isActive    Boolean  @default(true) // Административный флаг (можно менять даже на frozen)\n  version     Int      @default(1) // Номер версии техкарты\n  parentMmlId Int? // FK → предыдущая версия (для трассировки)\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n\n  product       Product             @relation(fields: [productId], references: [id])\n  creator       User                @relation(\"MmlCreator\", fields: [createdBy], references: [id])\n  parentMml     ProductionMml?      @relation(\"MmlVersions\", fields: [parentMmlId], references: [id])\n  childVersions ProductionMml[]     @relation(\"MmlVersions\")\n  nodes         ProductionMmlNode[] // Дерево узлов (корневые + подпозиции)\n  runs          ProductionRun[] // Выработки по этому MML\n\n  // Обратные связи для первичного MML\n  suppliersWithPrimaryMml Supplier[]                  @relation(\"SupplierPrimaryMml\")\n  priceListSuppliers      PurchasePriceListSupplier[] @relation(\"PriceListSupplierMml\")\n  // Production-Purchase Integration\n  cuttingLines            ProductionCuttingLine[]\n\n  @@unique([productId, version])\n  @@index([productId, isDeleted, version])\n  @@index([isLocked])\n  @@index([isDeleted])\n  @@index([isActive])\n  @@index([createdAt])\n}\n\n// MML - узлы дерева (корневые позиции и подпозиции)\n// parentNodeId = NULL → корневая позиция\n// parentNodeId != NULL → подпозиция (дочерняя)\nmodel ProductionMmlNode {\n  id           Int      @id @default(autoincrement())\n  mmlId        Int // FK → ProductionMml\n  parentNodeId Int? // FK → ProductionMmlNode (NULL = корень)\n  productId    Int // FK → Product (товар узла)\n  sortOrder    Int      @default(0) // Порядок отображения\n  isActive     Boolean  @default(true) // Выкл/Вкл узел (структурное изменение)\n  sourceNodeId Int? // Стабильный предок узла для трассировки между версиями\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n\n  mml                   ProductionMml              @relation(fields: [mmlId], references: [id], onDelete: Cascade)\n  parentNode            ProductionMmlNode?         @relation(\"NodeChildren\", fields: [parentNodeId], references: [id], onDelete: Cascade)\n  children              ProductionMmlNode[]        @relation(\"NodeChildren\")\n  product               Product                    @relation(\"MmlNodeProduct\", fields: [productId], references: [id])\n  runValues             ProductionRunValue[] // Значения в выработках\n  shipmentDistributions SvodShipmentDistribution[] // Распределения в своде\n\n  @@index([mmlId])\n  @@index([parentNodeId])\n  @@index([productId])\n  @@index([sourceNodeId])\n  @@index([mmlId, parentNodeId, sortOrder])\n  @@index([mmlId, isActive])\n}\n\n// Выработка (документ журнала производства)\n// Заменяет старый ProductionBatch\nmodel ProductionRun {\n  id                      Int      @id @default(autoincrement())\n  productId               Int // Что вырабатывается (основной товар)\n  mmlId                   Int // Какой MML применён\n  userId                  Int // Кто сделал выработку\n  productionDate          DateTime @default(now()) // Редактируемая дата выработки\n  plannedWeight           Decimal? @db.Decimal(14, 3) // Вес (план) - ввод пользователя\n  actualWeight            Decimal? @db.Decimal(14, 3) // Фактический вес (сумма значений)\n  status                  String   @default(\"draft\") // V3: draft | posted\n  isLocked                Boolean  @default(false) // Зафиксировано (нельзя редактировать)\n  isHidden                Boolean  @default(false) // Скрыто в журнале\n  needsReview             Boolean  @default(false) // V3: флаг для миграции (нехватка партий)\n  // Источник позиции\n  sourceType              String   @default(\"MANUAL\") // MANUAL | PURCHASE | OPENING_BALANCE\n  sourcePurchaseItemId    Int? // FK → PurchaseItem (если sourceType = PURCHASE) - legacy\n  sourceOpeningBalanceQty Decimal? @db.Decimal(14, 3) // Остаток на начало (если sourceType = OPENING_BALANCE)\n  createdAt               DateTime @default(now())\n  updatedAt               DateTime @updatedAt\n\n  product            Product                @relation(\"ProductRuns\", fields: [productId], references: [id])\n  mml                ProductionMml          @relation(fields: [mmlId], references: [id])\n  user               User                   @relation(\"RunUser\", fields: [userId], references: [id])\n  sourcePurchaseItem PurchaseItem?          @relation(fields: [sourcePurchaseItemId], references: [id])\n  values             ProductionRunValue[] // Значения по узлам\n  allocations        ProductionAllocation[] // V3: FIFO allocations\n\n  @@index([productId])\n  @@index([mmlId])\n  @@index([userId])\n  @@index([isLocked])\n  @@index([createdAt])\n  @@index([productionDate])\n  @@index([isHidden, productionDate])\n  @@index([sourceType])\n  @@index([status])\n}\n\n// Значения выработки по узлам MML\n// Каждый узел дерева имеет одно числовое значение в документе выработки\n// Теперь поддерживает множество записей (строк) на один узел с разными сотрудниками\nmodel ProductionRunValue {\n  id                Int              @id @default(autoincrement())\n  productionRunId   Int // FK → ProductionRun\n  mmlNodeId         Int // FK → ProductionMmlNode\n  snapshotProductId Int? // Снимок productId узла на момент выработки (для истории)\n  value             Decimal?         @db.Decimal(14, 3) // Числовое значение (ввод пользователя)\n  staffId           Int? // FK → ProductionStaff (кто внёс значение)\n  recordedAt        DateTime         @default(now()) // Дата/время записи значения (аудит)\n  operationAt       DateTime         @default(now()) // Бизнес-время операции (для UI)\n  // V3: Unified Operations\n  opType            ProductionOpType @default(PRODUCTION) // Тип операции\n  reasonText        String? // Причина (обязательна для WRITEOFF/ADJUSTMENT)\n  photoUrl          String? // Ссылка на фото\n  photoMeta         Json? // {width,height,sizeBytes,mime,sha256,confidence?,ocrRaw?}\n  createdAt         DateTime         @default(now())\n  updatedAt         DateTime         @updatedAt\n\n  run             ProductionRun     @relation(fields: [productionRunId], references: [id], onDelete: Cascade)\n  node            ProductionMmlNode @relation(fields: [mmlNodeId], references: [id])\n  snapshotProduct Product?          @relation(\"RunValueSnapshot\", fields: [snapshotProductId], references: [id])\n  staff           ProductionStaff?  @relation(fields: [staffId], references: [id])\n\n  @@index([productionRunId])\n  @@index([mmlNodeId])\n  @@index([staffId])\n  @@index([opType])\n  @@index([recordedAt])\n}\n\n// ============================================\n// PRODUCTION V3: FIFO ALLOCATIONS & ADJUSTMENTS\n// ============================================\n\n// Распределение веса документа (RUN или ADJ) по партиям закупок (FIFO)\n// Центральная таблица для FIFO-логики\nmodel ProductionAllocation {\n  id             Int               @id @default(autoincrement())\n  sourceType     String // RUN | ADJ\n  sourceId       Int // productionRunId или productionAdjustmentId\n  opType         ProductionOpType? // V3: Тип операции строки (PRODUCTION/WRITEOFF/ADJUSTMENT)\n  purchaseItemId Int // FK → PurchaseItem (партия)\n  productId      Int // денормализация, MUST == document.productId\n  qtyAllocated   Decimal           @db.Decimal(14, 3) // Сколько списано из партии\n  allocatedAt    DateTime          @default(now()) // Порядок документов (INV-4)\n  isVoided       Boolean           @default(false) // Для историчности (INV-2)\n  voidedAt       DateTime?\n  voidReason     String?\n  createdAt      DateTime          @default(now())\n  updatedAt      DateTime          @updatedAt\n\n  purchaseItem  PurchaseItem   @relation(fields: [purchaseItemId], references: [id])\n  productionRun ProductionRun? @relation(fields: [sourceId], references: [id], onDelete: Cascade)\n\n  @@index([purchaseItemId, isVoided])\n  @@index([productId, allocatedAt, isVoided])\n  @@index([sourceType, sourceId])\n  @@index([sourceId])\n}\n\n// Корректирующий документ производства (для аудита изменений факта)\n// effectiveDate - в какой день отображается в отчётах\n// adjustmentDate - в какой день потребляет партии (FIFO)\nmodel ProductionAdjustment {\n  id             Int       @id @default(autoincrement())\n  productId      Int // FK → Product\n  adjustmentDate DateTime // Дата для FIFO и closures\n  effectiveDate  DateTime // Дата для отчётов\n  deltaWeight    Decimal   @db.Decimal(14, 3) // Вес корректировки (>= 0)\n  reason         String? // Причина корректировки\n  status         String    @default(\"draft\") // draft | posted | voided\n  isLocked       Boolean   @default(false)\n  createdBy      Int // FK → User\n  createdAt      DateTime  @default(now())\n  updatedAt      DateTime  @updatedAt\n  voidedAt       DateTime?\n  voidedBy       Int?\n  voidReason     String?\n\n  product Product @relation(fields: [productId], references: [id])\n  creator User    @relation(\"AdjustmentCreator\", fields: [createdBy], references: [id])\n  voider  User?   @relation(\"AdjustmentVoider\", fields: [voidedBy], references: [id])\n\n  @@index([productId])\n  @@index([adjustmentDate])\n  @@index([effectiveDate])\n  @@index([status])\n}\n\n// ============================================\n// МОДУЛЬ ЗАКУПКИ\n// ============================================\n\n// Справочник типов оплат\nmodel PaymentType {\n  id         Int      @id @default(autoincrement())\n  name       String   @unique\n  paymentId  String?  @unique // \"ID оплаты\" (ID1, ID2, ID3, ...)\n  code       String?  @unique // Стабильный ключ базовой оплаты (BANK_TRANSFER, CARD, CASH)\n  isBase     Boolean  @default(false) // Базовый тип оплаты\n  isDefault  Boolean  @default(false) // Тип оплаты по умолчанию\n  isDisabled Boolean  @default(false)\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n\n  purchaseItems   PurchaseItem[]\n  customerRefunds CustomerMoneyRefund[]\n}\n\n// Шапка закупки (документ)\nmodel Purchase {\n  id              Int      @id @default(autoincrement())\n  idn             String? // Автогенерируемый идентификатор (код_поставщика + дата ДДММГГГГ)\n  purchaseDate    DateTime // Дата закупки (редактируемая)\n  totalAmount     Decimal? @db.Decimal(14, 2) // Итоговая сумма закупки\n  createdByUserId Int? // Кто создал (опционально)\n  isDisabled      Boolean  @default(false) // Для скрытия в журнале\n  isSystem        Boolean  @default(false) // Виртуальная закупка (OPENING_BALANCE)\n  createdAt       DateTime @default(now())\n  updatedAt       DateTime @updatedAt\n\n  createdByUser    User?              @relation(\"PurchaseCreator\", fields: [createdByUserId], references: [id])\n  suppliers        PurchaseSupplier[]\n  items            PurchaseItem[]\n  // Production-Purchase Integration\n  productionInputs ProductionInput[]\n\n  @@index([purchaseDate])\n  @@index([isDisabled, purchaseDate])\n  @@index([createdByUserId])\n}\n\n// Связь закупки с поставщиками (мультипоставщик)\nmodel PurchaseSupplier {\n  id         Int      @id @default(autoincrement())\n  purchaseId Int\n  supplierId Int\n  createdAt  DateTime @default(now())\n\n  purchase Purchase @relation(fields: [purchaseId], references: [id], onDelete: Cascade)\n  supplier Supplier @relation(fields: [supplierId], references: [id])\n\n  @@unique([purchaseId, supplierId])\n  @@index([purchaseId])\n  @@index([supplierId])\n}\n\n// Строки закупки (товары)\nmodel PurchaseItem {\n  id            Int      @id @default(autoincrement())\n  purchaseId    Int\n  supplierId    Int // Какой поставщик в этой закупке\n  productId     Int\n  price         Decimal  @db.Decimal(14, 2) // Закупочная цена\n  qty           Decimal  @db.Decimal(14, 3) // Количество (qtyPurchased)\n  qtyRemaining  Decimal  @default(0) @db.Decimal(14, 3) // V3: денорм остаток для FIFO Mode B\n  amount        Decimal  @db.Decimal(14, 2) // Сумма (price * qty)\n  paymentTypeId Int? // Тип оплаты (может быть разный для каждой строки)\n  isSystem      Boolean  @default(false) // Виртуальная партия (OPENING_BALANCE)\n  createdAt     DateTime @default(now())\n  updatedAt     DateTime @updatedAt\n\n  purchase         Purchase               @relation(fields: [purchaseId], references: [id], onDelete: Cascade)\n  supplier         Supplier               @relation(fields: [supplierId], references: [id])\n  product          Product                @relation(\"PurchaseItemProduct\", fields: [productId], references: [id])\n  paymentType      PaymentType?           @relation(fields: [paymentTypeId], references: [id])\n  // Production-Purchase Integration\n  productionInputs ProductionInput[]\n  productionRuns   ProductionRun[] // Выработки, созданные из этой закупки (legacy)\n  // Production V3: FIFO allocations\n  allocations      ProductionAllocation[]\n  // Production Closure relation\n  lotClosure       ProductionLotClosure? // Закрытие партии (1:1)\n\n  @@index([purchaseId, supplierId])\n  @@index([purchaseId])\n  @@index([supplierId])\n  @@index([productId])\n  @@index([productId, qtyRemaining]) // V3: для FIFO поиска\n}\n\n// ============================================\n// TELEGRAM USERBOT MODULE\n// ============================================\n\n// Группы Telegram для мониторинга\n// ============================================\n// TELEGRAM BOT MODULE\n// ============================================\n\n// Одноразовый код привязки группы к клиенту\nmodel TelegramBindRequest {\n  id              Int      @id @default(autoincrement())\n  customerId      Int\n  code            String   @unique\n  expiresAt       DateTime\n  createdAt       DateTime @default(now())\n  createdByUserId Int?\n\n  usedAt       DateTime?\n  usedByChatId BigInt?\n\n  customer  Customer @relation(fields: [customerId], references: [id], onDelete: Cascade)\n  createdBy User?    @relation(\"BindRequestCreator\", fields: [createdByUserId], references: [id])\n\n  @@index([customerId, createdAt])\n  @@index([code, expiresAt])\n}\n\n// Лог входящих Telegram-сообщений (идемпотентность через @@unique)\nmodel TelegramInbox {\n  id          Int       @id @default(autoincrement())\n  chatId      BigInt\n  messageId   Int\n  messageDate DateTime? // из Telegram update.message.date (UTC)\n  fromUserId  BigInt?\n  text        String?\n  raw         Json // полный Telegram update\n\n  status String  @default(\"NEW\")\n  // NEW | PROMPTED | IGNORED | DRAFT_CREATED | ERROR\n  error  String?\n\n  createdAt   DateTime  @default(now())\n  processedAt DateTime?\n\n  links OrderDraftMessage[]\n\n  @@unique([chatId, messageId])\n  @@index([status, createdAt])\n}\n\n// Черновик заказа из Telegram (до подтверждения → Order)\nmodel OrderDraft {\n  id           Int     @id @default(autoincrement())\n  customerId   Int\n  sourceChatId BigInt?\n  status       String  @default(\"NEW\")\n  // NEW | CLARIFY | WAIT_CONFIRM | CONFIRMED | CANCELED | ERROR\n\n  note String? // пожелания / комментарии\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  createdByUserId   Int?\n  confirmedByUserId Int?\n  confirmedByChatId BigInt?\n\n  // Sales Manager workflow (ТЗ §3.2)\n  managerDecisionNote String?\n  rejectedAt          DateTime?\n  rejectedByUserId    Int?\n  acceptedAt          DateTime?\n  acceptedByUserId    Int?\n\n  items    OrderDraftItem[]\n  messages OrderDraftMessage[]\n  order    Order?\n\n  customer       Customer @relation(fields: [customerId], references: [id], onDelete: Restrict)\n  rejectedByUser User?    @relation(\"OrderDraftRejectedBy\", fields: [rejectedByUserId], references: [id])\n  acceptedByUser User?    @relation(\"OrderDraftAcceptedBy\", fields: [acceptedByUserId], references: [id])\n\n  @@index([customerId, status, createdAt])\n  @@index([status, createdAt])\n}\n\n// Позиция черновика\nmodel OrderDraftItem {\n  id      Int @id @default(autoincrement())\n  draftId Int\n\n  productId Int? // null = не распознано\n  rawText   String // исходная строка/фрагмент\n  title     String? // нормализованное имя (если распознали)\n  quantity  Float?\n  unit      String? // KG | PCS | BOX | OTHER\n\n  draft OrderDraft @relation(fields: [draftId], references: [id], onDelete: Cascade)\n\n  @@index([draftId])\n}\n\n// Join: несколько сообщений → один draft\nmodel OrderDraftMessage {\n  id      Int     @id @default(autoincrement())\n  draftId Int\n  inboxId Int\n  kind    String? // ORIGINAL | FOLLOWUP | CLARIFICATION\n\n  draft OrderDraft    @relation(fields: [draftId], references: [id], onDelete: Cascade)\n  inbox TelegramInbox @relation(fields: [inboxId], references: [id], onDelete: Cascade)\n\n  @@unique([draftId, inboxId])\n  @@index([draftId])\n  @@index([inboxId])\n}\n\n// Очередь исходящих Telegram-сообщений\nmodel TelegramOutbox {\n  id         Int    @id @default(autoincrement())\n  customerId Int?\n  chatId     BigInt\n  status     String @default(\"QUEUED\")\n  // QUEUED | SENDING | SENT | FAILED | CANCELED\n\n  text           String?\n  documentType   String? // \"ACT_RECONCILIATION\" etc\n  documentParams Json?\n\n  attempts      Int      @default(0)\n  maxAttempts   Int      @default(5)\n  nextAttemptAt DateTime @default(now())\n  lastError     String?\n\n  createdBy String?\n  createdAt DateTime  @default(now())\n  updatedAt DateTime  @updatedAt\n  sentAt    DateTime?\n\n  customer Customer? @relation(fields: [customerId], references: [id])\n\n  @@index([status, nextAttemptAt])\n  @@index([chatId, createdAt])\n}\n\n// ============================================\n// SALES MANAGER MODULE\n// ============================================\n\n// Связка Клиент ↔ Менеджер (m2m с историей назначений)\nmodel CustomerSalesManager {\n  id         Int @id @default(autoincrement())\n  customerId Int\n  userId     Int\n\n  assignedAt         DateTime  @default(now())\n  assignedByUserId   Int?\n  unassignedAt       DateTime?\n  unassignedByUserId Int?\n\n  customer         Customer @relation(fields: [customerId], references: [id], onDelete: Cascade)\n  user             User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n  assignedByUser   User?    @relation(\"CSM_AssignedBy\", fields: [assignedByUserId], references: [id])\n  unassignedByUser User?    @relation(\"CSM_UnassignedBy\", fields: [unassignedByUserId], references: [id])\n\n  @@unique([customerId, userId, assignedAt])\n  @@index([userId, unassignedAt])\n  @@index([customerId, unassignedAt])\n}\n\n// Возврат денег клиенту (банк/касса)\nmodel CustomerMoneyRefund {\n  id         Int      @id @default(autoincrement())\n  customerId Int\n  refundDate DateTime\n  amount     Decimal  @db.Decimal(14, 2)\n\n  paymentTypeId Int?\n  reference     String? // номер платежки/документа\n  comment       String?\n  proofUrl      String? // скан/фото документа\n\n  createdByUserId Int?\n  updatedByUserId Int?\n  deletedAt       DateTime?\n  deletedByUserId Int?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  customer      Customer     @relation(fields: [customerId], references: [id], onDelete: Cascade)\n  paymentType   PaymentType? @relation(fields: [paymentTypeId], references: [id])\n  createdByUser User?        @relation(\"CustomerRefundCreator\", fields: [createdByUserId], references: [id])\n  updatedByUser User?        @relation(\"CustomerRefundUpdater\", fields: [updatedByUserId], references: [id])\n  deletedByUser User?        @relation(\"CustomerRefundDeleter\", fields: [deletedByUserId], references: [id])\n\n  @@index([customerId, refundDate])\n  @@index([deletedAt])\n}\n\n// ============================================\n// WAREHOUSE MODULE (Справочник складов)\n// ============================================\n\nmodel Warehouse {\n  id                Int     @id @default(autoincrement())\n  code              String  @unique // Уникальный код склада для импорта\n  name              String // Название склада (обяз.)\n  address           String // Адрес склада (обяз.)\n  phone             String? // Телефон\n  responsibleUserId Int? // FK → User (ответственный)\n  comment           String? // Комментарий\n  isDisabled        Boolean @default(false)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Relations\n  responsibleUser User? @relation(\"WarehouseResponsible\", fields: [responsibleUserId], references: [id])\n\n  // Production-Purchase Integration\n  productionDocs       ProductionDoc[]\n  productionInputs     ProductionInput[]\n  // Material Report relations\n  materialReports      MaterialReport[]\n  materialReportDrafts MaterialReportDraft[]\n\n  @@index([name])\n  @@index([isDisabled])\n}\n\n// ============================================\n// МОДУЛЬ СВОД (Сводная таблица заказов)\n// ============================================\n\n// Шапка свода (один документ на дату)\nmodel SvodHeader {\n  id        Int      @id @default(autoincrement())\n  svodDate  DateTime @db.Date // Дата формирования свода (D)\n  status    String   @default(\"draft\") // draft / saved / edited\n  createdAt DateTime @default(now())\n  createdBy String // username кто создал\n  updatedAt DateTime @updatedAt\n  updatedBy String? // username кто правил\n\n  lines                SvodLine[]\n  supplierCols         SvodSupplierCol[]\n  supplierValues       SvodSupplierValue[]\n  // Material Report Draft relation\n  materialReportDrafts MaterialReportDraft[]\n\n  @@unique([svodDate]) // Один свод на дату\n  @@index([status])\n}\n\n// Строки свода по товарам\nmodel SvodLine {\n  id        Int @id @default(autoincrement())\n  svodId    Int // FK -> SvodHeader\n  productId Int // FK -> Product\n\n  // Snapshot полей из справочника (на момент сохранения)\n  shortName   String? // Название прайс-листа (snapshot)\n  category    String? // Категория товара (snapshot)\n  coefficient Decimal? @db.Decimal(10, 4) // Коэффициент (snapshot)\n\n  // Источниковые поля (автоматически подтягиваемые)\n  orderQty        Decimal @default(0) @db.Decimal(14, 3) // Заказ (из Сводки заказов)\n  productionInQty Decimal @default(0) @db.Decimal(14, 3) // Приход с производства\n\n  // Редактируемые поля\n  openingStock         Decimal  @default(0) @db.Decimal(14, 3) // Остаток на начало дня\n  openingStockIsManual Boolean  @default(false) // Ручная правка остатка\n  afterPurchaseStock   Decimal? @db.Decimal(14, 3) // Остаток после закупки\n  afterShipmentStock   Decimal? @db.Decimal(14, 3) // Остаток после отгрузки\n\n  // Расчётные поля (формульные, placeholder - формулы будут позже)\n  qtyToShip      Decimal? @db.Decimal(14, 3) // Количество к отгрузке\n  factMinusWaste Decimal? @db.Decimal(14, 3) // Факт (минус отходы)\n  weightToShip   Decimal? @db.Decimal(14, 3) // Вес к отгрузке\n  planFactDiff   Decimal? @db.Decimal(14, 3) // Разница план-факт\n  underOver      Decimal? @db.Decimal(14, 3) // Недобор-перебор\n\n  // Маркировка распределения\n  isDistributionSource  Boolean @default(false) // Позиция-источник распределения\n  distributedFromLineId Int? // FK -> SvodLine (родительская позиция)\n  distributedFromName   String? // Краткое название родительской позиции (для отображения)\n\n  sortOrder Int @default(0) // Порядок в блоке категории\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  svod                  SvodHeader                 @relation(fields: [svodId], references: [id], onDelete: Cascade)\n  product               Product                    @relation(fields: [productId], references: [id])\n  shipmentDistributions SvodShipmentDistribution[] // Распределение по MML\n\n  @@unique([svodId, productId]) // Один товар = одна строка в своде\n  @@index([svodId])\n  @@index([productId])\n  @@index([category])\n  @@index([distributedFromLineId])\n}\n\n// Колонки поставщиков в своде (до 10 штук)\nmodel SvodSupplierCol {\n  id            Int     @id @default(autoincrement())\n  svodId        Int // FK -> SvodHeader\n  colIndex      Int // Позиция 1..10\n  supplierId    Int // FK -> Supplier\n  supplierName  String // Snapshot имени поставщика\n  totalPurchase Decimal @default(0) @db.Decimal(14, 2) // Общая сумма закупки (для сортировки ТОП-10)\n\n  createdAt DateTime @default(now())\n\n  svod     SvodHeader @relation(fields: [svodId], references: [id], onDelete: Cascade)\n  supplier Supplier   @relation(fields: [supplierId], references: [id])\n\n  @@unique([svodId, colIndex]) // Один индекс = одна колонка\n  @@unique([svodId, supplierId]) // Один поставщик не повторяется\n  @@index([svodId])\n}\n\n// Значения закупа по поставщикам для каждой строки товара\nmodel SvodSupplierValue {\n  id          Int     @id @default(autoincrement())\n  svodId      Int // FK -> SvodHeader\n  productId   Int // FK -> Product\n  supplierId  Int // FK -> Supplier\n  purchaseQty Decimal @default(0) @db.Decimal(14, 3) // Количество закупа\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  svod     SvodHeader @relation(fields: [svodId], references: [id], onDelete: Cascade)\n  product  Product    @relation(fields: [productId], references: [id])\n  supplier Supplier   @relation(fields: [supplierId], references: [id])\n\n  @@unique([svodId, productId, supplierId]) // Уникальная комбинация\n  @@index([svodId])\n  @@index([productId])\n  @@index([supplierId])\n}\n\n// Распределение веса отгрузки по позициям техкарты (MML)\nmodel SvodShipmentDistribution {\n  id             Int      @id @default(autoincrement())\n  svodLineId     Int // FK → SvodLine\n  mmlNodeId      Int // FK → ProductionMmlNode (позиция из техкарты)\n  distributedQty Decimal  @db.Decimal(14, 3) // Распределённое количество\n  createdAt      DateTime @default(now())\n  updatedAt      DateTime @updatedAt\n\n  svodLine SvodLine          @relation(fields: [svodLineId], references: [id], onDelete: Cascade)\n  mmlNode  ProductionMmlNode @relation(fields: [mmlNodeId], references: [id])\n\n  @@unique([svodLineId, mmlNodeId]) // Один узел = одно распределение на строку\n  @@index([svodLineId])\n  @@index([mmlNodeId])\n}\n\n// ============================================\n// ИНТЕГРАЦИЯ ПРОИЗВОДСТВО-ЗАКУПКА\n// ============================================\n\n// Документ производства (шапка)\nmodel ProductionDoc {\n  id              Int      @id @default(autoincrement())\n  date            DateTime @db.Date // Дата производства\n  warehouseId     Int // FK → Warehouse (склад-приёмник)\n  status          String   @default(\"draft\") // draft / loaded / cutting / done / canceled\n  createdByUserId Int // FK → User\n  createdAt       DateTime @default(now())\n  updatedAt       DateTime @updatedAt\n\n  warehouse    Warehouse               @relation(fields: [warehouseId], references: [id])\n  createdBy    User                    @relation(\"ProductionDocCreator\", fields: [createdByUserId], references: [id])\n  inputs       ProductionInput[]\n  outputs      ProductionOutput[]\n  cuttingLines ProductionCuttingLine[]\n\n  @@unique([date, warehouseId]) // Один документ на дату и склад\n  @@index([date])\n  @@index([status])\n  @@index([warehouseId])\n}\n\n// Входные партии сырья (из закупки)\nmodel ProductionInput {\n  id              Int      @id @default(autoincrement())\n  productionDocId Int // FK → ProductionDoc\n  purchaseId      Int // FK → Purchase (документ закупки)\n  purchaseItemId  Int // FK → PurchaseItem (конкретная строка закупа)\n  productId       Int // FK → Product\n  warehouseId     Int // FK → Warehouse\n  qtyIn           Decimal  @db.Decimal(14, 3) // Кол-во загружено\n  qtyUsed         Decimal  @default(0) @db.Decimal(14, 3) // Сколько уже использовано в разделке\n  priceIn         Decimal? @db.Decimal(14, 2) // Закупочная цена (опционально)\n  loadedAt        DateTime @default(now())\n  loadedByUserId  Int // FK → User\n\n  productionDoc ProductionDoc           @relation(fields: [productionDocId], references: [id], onDelete: Cascade)\n  purchase      Purchase                @relation(fields: [purchaseId], references: [id])\n  purchaseItem  PurchaseItem            @relation(fields: [purchaseItemId], references: [id])\n  product       Product                 @relation(\"ProductionInputProduct\", fields: [productId], references: [id])\n  warehouse     Warehouse               @relation(fields: [warehouseId], references: [id])\n  loadedBy      User                    @relation(\"ProductionInputLoader\", fields: [loadedByUserId], references: [id])\n  cuttingLines  ProductionCuttingLine[]\n\n  @@unique([productionDocId, purchaseItemId]) // Одна позиция закупа = один раз в документе\n  @@index([productionDocId])\n  @@index([purchaseItemId])\n  @@index([productId])\n  @@index([purchaseId])\n}\n\n// Выход после разделки (результат производства)\nmodel ProductionOutput {\n  id              Int      @id @default(autoincrement())\n  productionDocId Int // FK → ProductionDoc\n  productId       Int // FK → Product (выходная часть/товар)\n  qtyOut          Decimal  @db.Decimal(14, 3) // Количество выхода\n  uom             String   @default(\"kg\") // Ед. измерения (kg / pcs)\n  costTotal       Decimal? @db.Decimal(14, 2) // Себестоимость общая\n  costPerUnit     Decimal? @db.Decimal(14, 4) // Себестоимость за единицу\n  createdAt       DateTime @default(now())\n  updatedAt       DateTime @updatedAt\n\n  productionDoc ProductionDoc @relation(fields: [productionDocId], references: [id], onDelete: Cascade)\n  product       Product       @relation(\"ProductionOutputProduct\", fields: [productId], references: [id])\n\n  @@unique([productionDocId, productId]) // Один товар = одна строка выхода\n  @@index([productionDocId])\n  @@index([productId])\n}\n\n// Линии разделки по MML (детализация: какое сырьё → какой выход)\nmodel ProductionCuttingLine {\n  id                Int      @id @default(autoincrement())\n  productionDocId   Int // FK → ProductionDoc\n  productionInputId Int // FK → ProductionInput (из какой партии сырья)\n  mmlId             Int // FK → ProductionMml (какой MML применён)\n  outProductId      Int // FK → Product (выходной товар)\n  qtyOut            Decimal  @db.Decimal(14, 3) // Кол-во выхода\n  qtyInConsumed     Decimal  @db.Decimal(14, 3) // Сколько сырья израсходовано\n  createdAt         DateTime @default(now())\n  createdByUserId   Int // FK → User\n\n  productionDoc   ProductionDoc   @relation(fields: [productionDocId], references: [id], onDelete: Cascade)\n  productionInput ProductionInput @relation(fields: [productionInputId], references: [id])\n  mml             ProductionMml   @relation(fields: [mmlId], references: [id])\n  outProduct      Product         @relation(\"CuttingLineOutput\", fields: [outProductId], references: [id])\n  createdBy       User            @relation(\"CuttingLineCreator\", fields: [createdByUserId], references: [id])\n\n  @@index([productionDocId])\n  @@index([productionInputId])\n  @@index([mmlId])\n  @@index([outProductId])\n}\n\n// ============================================\n// МАТЕРИАЛЬНЫЙ ОТЧЁТ (Material Report)\n// ============================================\n\n// Шапка материального отчёта (один документ на дату + склад)\nmodel MaterialReport {\n  id          Int      @id @default(autoincrement())\n  reportDate  DateTime @db.Date // Дата отчёта (= дата заказов)\n  warehouseId Int? // FK → Warehouse (опционально)\n  sourceType  String? // Тип источника: 'ORDER_SUMMARY', 'MANUAL'\n  sourceId    Int? // ID источника (order_summary_id или null)\n  status      String   @default(\"draft\") // draft / saved / closed\n  createdAt   DateTime @default(now())\n  createdBy   String // username кто создал\n  updatedAt   DateTime @updatedAt\n  updatedBy   String? // username кто обновил\n\n  lines     MaterialReportLine[]\n  warehouse Warehouse?           @relation(fields: [warehouseId], references: [id])\n\n  @@unique([reportDate, warehouseId]) // Один отчёт на дату и склад\n  @@index([reportDate])\n  @@index([status])\n  @@index([warehouseId])\n}\n\n// Строки материального отчёта (по товарам)\nmodel MaterialReportLine {\n  id               Int @id @default(autoincrement())\n  materialReportId Int // FK → MaterialReport\n  productId        Int // FK → Product\n\n  // Snapshot полей из справочника\n  productCode String? // Код товара\n  productName String? // Наименование товара\n\n  // Движения и остатки\n  openingBalance        Decimal  @default(0) @db.Decimal(14, 3) // Остаток на начало\n  inPurchase            Decimal  @default(0) @db.Decimal(14, 3) // Купили (закупка)\n  inProduction          Decimal  @default(0) @db.Decimal(14, 3) // Приход с производства\n  outSale               Decimal  @default(0) @db.Decimal(14, 3) // Продали (отгрузка)\n  outWaste              Decimal  @default(0) @db.Decimal(14, 3) // Отход\n  outBundle             Decimal  @default(0) @db.Decimal(14, 3) // Пучок\n  outDefectWriteoff     Decimal  @default(0) @db.Decimal(14, 3) // Списали брак\n  outProductionWriteoff Decimal  @default(0) @db.Decimal(14, 3) // Списано в производство\n  outWeightLoss         Decimal  @default(0) @db.Decimal(14, 3) // Списали (потеря веса)\n  outSupplierReturn     Decimal  @default(0) @db.Decimal(14, 3) // Возврат поставщику\n  closingBalanceCalc    Decimal  @default(0) @db.Decimal(14, 3) // Остаток на конец (расчётный)\n  closingBalanceFact    Decimal? @db.Decimal(14, 3) // Фактический остаток (ручной ввод)\n\n  sortOrder Int      @default(0)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  materialReport MaterialReport @relation(fields: [materialReportId], references: [id], onDelete: Cascade)\n  product        Product        @relation(fields: [productId], references: [id])\n\n  @@unique([materialReportId, productId]) // Один товар = одна строка в отчёте\n  @@index([materialReportId])\n  @@index([productId])\n}\n\n// Черновик материального отчёта (для вкладки \"Отчет\" в своде)\n// Хранит введённые пользователем факт остатки до сохранения в основной отчёт\nmodel MaterialReportDraft {\n  id           Int      @id @default(autoincrement())\n  reportDate   DateTime @db.Date // Дата отчёта (= дата заказов)\n  warehouseId  Int? // FK → Warehouse\n  svodHeaderId Int? // FK → SvodHeader (связь со сводом)\n  updatedAt    DateTime @updatedAt\n  updatedBy    String? // username\n\n  lines      MaterialReportDraftLine[]\n  warehouse  Warehouse?                @relation(fields: [warehouseId], references: [id])\n  svodHeader SvodHeader?               @relation(fields: [svodHeaderId], references: [id])\n\n  @@unique([reportDate, warehouseId]) // Один черновик на дату и склад\n  @@index([reportDate])\n  @@index([svodHeaderId])\n}\n\n// Строки черновика материального отчёта\nmodel MaterialReportDraftLine {\n  id        Int @id @default(autoincrement())\n  draftId   Int // FK → MaterialReportDraft\n  productId Int // FK → Product\n\n  // Все поля движений (для кэширования расчётных значений)\n  openingBalance        Decimal  @default(0) @db.Decimal(14, 3)\n  inPurchase            Decimal  @default(0) @db.Decimal(14, 3)\n  inProduction          Decimal  @default(0) @db.Decimal(14, 3)\n  outSale               Decimal  @default(0) @db.Decimal(14, 3)\n  outWaste              Decimal  @default(0) @db.Decimal(14, 3)\n  outBundle             Decimal  @default(0) @db.Decimal(14, 3)\n  outDefectWriteoff     Decimal  @default(0) @db.Decimal(14, 3)\n  outProductionWriteoff Decimal  @default(0) @db.Decimal(14, 3) // Списано в производство\n  outWeightLoss         Decimal  @default(0) @db.Decimal(14, 3)\n  outSupplierReturn     Decimal  @default(0) @db.Decimal(14, 3)\n  closingBalanceCalc    Decimal  @default(0) @db.Decimal(14, 3)\n  closingBalanceFact    Decimal? @db.Decimal(14, 3) // Введённый пользователем факт\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  draft   MaterialReportDraft @relation(fields: [draftId], references: [id], onDelete: Cascade)\n  product Product             @relation(fields: [productId], references: [id])\n\n  @@unique([draftId, productId])\n  @@index([draftId])\n  @@index([productId])\n}\n\n// ============================================\n// PRODUCTION CLOSURE MODULE (V3)\n// ============================================\n\n// Закрытие партии закупки (по purchaseItemId)\n// Хранит состояние выработки конкретной партии\nmodel ProductionLotClosure {\n  id             Int @id @default(autoincrement())\n  purchaseItemId Int @unique // FK → PurchaseItem\n\n  status String @default(\"open\") // open | closed\n\n  qtyPurchased Decimal @default(0) @db.Decimal(14, 3) // Сколько закупили\n  qtyProduced  Decimal @default(0) @db.Decimal(14, 3) // Сколько выработали\n  qtyRemaining Decimal @default(0) @db.Decimal(14, 3) // Остаток (qtyPurchased - qtyProduced)\n\n  closedAt   DateTime?\n  closedBy   String?\n  reopenedAt DateTime?\n  reopenedBy String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  purchaseItem PurchaseItem @relation(fields: [purchaseItemId], references: [id], onDelete: Cascade)\n\n  @@index([status])\n  @@index([status, purchaseItemId])\n}\n\n// Закрытие продукта на дату (по productionDate + productId)\n// Хранит итоговое состояние выработки продукта за день\nmodel ProductionClosure {\n  id             Int      @id @default(autoincrement())\n  productionDate DateTime @db.Date // Дата производства\n  productId      Int // FK → Product\n\n  status String @default(\"open\") // open | closed\n\n  totalIn       Decimal @default(0) @db.Decimal(14, 3) // Закуп + carryover\n  totalProduced Decimal @default(0) @db.Decimal(14, 3) // Сумма выработки (actualWeight)\n  diffAbs       Decimal @default(0) @db.Decimal(14, 3) // ABS(totalIn - totalProduced)\n\n  closedAt   DateTime?\n  closedBy   String?\n  reopenedAt DateTime?\n  reopenedBy String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  product Product @relation(\"ProductionClosures\", fields: [productId], references: [id])\n\n  @@unique([productionDate, productId])\n  @@index([productionDate])\n  @@index([productId])\n  @@index([status])\n}\n\n// Аудит закрытий производства\nmodel ProductionClosureAudit {\n  id             Int       @id @default(autoincrement())\n  scope          String // LOT | PRODUCT\n  action         String // CLOSED | REOPENED | RECALC | POSTED | VOIDED | HIDDEN | UNHIDDEN | REBUILD_ALLOC\n  productionDate DateTime? @db.Date\n  productId      Int?\n  purchaseItemId Int?\n  performedBy    String\n  payload        Json? // Дополнительные данные (старые/новые значения)\n  createdAt      DateTime  @default(now())\n\n  @@index([scope])\n  @@index([productionDate])\n  @@index([productId])\n  @@index([purchaseItemId])\n  @@index([createdAt])\n}\n\n// ============================================\n// RBAC — Role-Based Access Control\n// ============================================\n\nmodel Role {\n  id        Int      @id @default(autoincrement())\n  code      String   @unique // 'ADMIN', 'OPERATOR', etc.\n  name      String // Human-readable name\n  isSystem  Boolean  @default(false) // System roles can't be deleted\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  userRoles       UserRole[]\n  rolePermissions RolePermission[]\n}\n\nmodel Permission {\n  id          Int      @id @default(autoincrement())\n  code        String   @unique // 'orders.read', 'production.create', etc.\n  module      String // 'orders', 'production', 'admin', etc.\n  description String? // Optional human-readable description\n  createdAt   DateTime @default(now())\n\n  rolePermissions RolePermission[]\n}\n\nmodel UserRole {\n  id         Int      @id @default(autoincrement())\n  userId     Int\n  roleId     Int\n  assignedAt DateTime @default(now())\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n  role Role @relation(fields: [roleId], references: [id], onDelete: Cascade)\n\n  @@unique([userId, roleId])\n  @@index([userId])\n  @@index([roleId])\n}\n\nmodel RolePermission {\n  id           Int @id @default(autoincrement())\n  roleId       Int\n  permissionId Int\n\n  role       Role       @relation(fields: [roleId], references: [id], onDelete: Cascade)\n  permission Permission @relation(fields: [permissionId], references: [id], onDelete: Cascade)\n\n  @@unique([roleId, permissionId])\n  @@index([roleId])\n  @@index([permissionId])\n}\n\n// ============================================\n// МОДУЛЬ РАСЧЁТОВ С ПОСТАВЩИКАМИ\n// ============================================\n\nenum SupplierLedgerSourceType {\n  PURCHASE\n  SUPPLIER_RETURN\n  SUPPLIER_PAYMENT\n  OPENING_BALANCE\n}\n\nenum SupplierPaymentMethod {\n  CASH\n  BANK\n  CARD\n  OTHER\n}\n\nmodel SupplierLedger {\n  id            Int                      @id @default(autoincrement())\n  supplierId    Int\n  sourceType    SupplierLedgerSourceType\n  sourceId      Int // id документа (purchaseId / returnId / paymentId / 0 для opening)\n  sourceLineId  Int                      @default(0) // 0 = весь документ, >0 = строка\n  operationName String // \"Покупка\", \"Возврат поставщику\", \"Оплата\", \"Начальное сальдо\"\n  opDate        DateTime // дата операции\n  debit         Decimal                  @default(0) @db.Decimal(14, 2) // уменьшает долг (оплата/возврат)\n  credit        Decimal                  @default(0) @db.Decimal(14, 2) // увеличивает долг (закупка)\n  isHidden      Boolean                  @default(false)\n  createdAt     DateTime                 @default(now())\n  updatedAt     DateTime                 @updatedAt\n\n  supplier Supplier @relation(fields: [supplierId], references: [id])\n\n  @@unique([supplierId, sourceType, sourceId, sourceLineId])\n  @@index([supplierId, opDate])\n  @@index([sourceType, sourceId])\n}\n\nmodel SupplierReturn {\n  id              Int      @id @default(autoincrement())\n  supplierId      Int\n  returnDate      DateTime\n  totalAmount     Decimal  @default(0) @db.Decimal(14, 2)\n  isDisabled      Boolean  @default(false)\n  createdByUserId Int?\n  createdAt       DateTime @default(now())\n  updatedAt       DateTime @updatedAt\n\n  supplier      Supplier             @relation(fields: [supplierId], references: [id])\n  createdByUser User?                @relation(\"SupplierReturnCreator\", fields: [createdByUserId], references: [id])\n  items         SupplierReturnItem[]\n\n  @@index([supplierId, returnDate])\n}\n\nmodel SupplierReturnItem {\n  id        Int     @id @default(autoincrement())\n  returnId  Int\n  productId Int\n  price     Decimal @db.Decimal(14, 2)\n  qty       Decimal @db.Decimal(14, 3)\n  amount    Decimal @db.Decimal(14, 2)\n\n  supplierReturn SupplierReturn @relation(fields: [returnId], references: [id], onDelete: Cascade)\n  product        Product        @relation(fields: [productId], references: [id])\n\n  @@index([returnId])\n}\n\nmodel SupplierPayment {\n  id              Int                   @id @default(autoincrement())\n  supplierId      Int\n  paymentDate     DateTime\n  amount          Decimal               @db.Decimal(14, 2)\n  method          SupplierPaymentMethod @default(CASH)\n  reference       String? // номер платёжки / документа\n  comment         String?\n  createdByUserId Int?\n  deletedAt       DateTime?\n  deletedByUserId Int?\n  createdAt       DateTime              @default(now())\n  updatedAt       DateTime              @updatedAt\n\n  supplier      Supplier @relation(fields: [supplierId], references: [id])\n  createdByUser User?    @relation(\"SupplierPaymentCreator\", fields: [createdByUserId], references: [id])\n  deletedByUser User?    @relation(\"SupplierPaymentDeleter\", fields: [deletedByUserId], references: [id])\n\n  @@index([supplierId, paymentDate])\n}\n\n// ============================================\n// Product Catalog: Countries, Subcategories, ParamValues, Variants\n// ============================================\n\nmodel Country {\n  id        Int      @id @default(autoincrement())\n  name      String   @unique\n  isActive  Boolean  @default(true)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  products Product[]\n}\n\nmodel ProductSubcategory {\n  id        Int       @id @default(autoincrement())\n  name      String    @unique\n  isActive  Boolean   @default(true)\n  deletedAt DateTime?\n  createdAt DateTime  @default(now())\n  updatedAt DateTime  @updatedAt\n\n  products Product[]\n  params   ParamValue[]\n\n  @@index([isActive, deletedAt])\n}\n\nmodel ParamValue {\n  id        Int       @id @default(autoincrement())\n  paramType ParamType\n\n  // Exactly one owner must be set: subcategoryId OR productId (enforced by CHECK via raw SQL migration)\n  subcategoryId Int?\n  productId     Int?\n\n  subcategory ProductSubcategory? @relation(fields: [subcategoryId], references: [id], onDelete: Cascade)\n  product     Product?            @relation(\"ProductParams\", fields: [productId], references: [id], onDelete: Cascade)\n\n  // One of these depending on paramType\n  valueNum  Decimal? @db.Decimal(10, 2) // LENGTH/WIDTH (cm) — legacy single value\n  valueInt  Int? // WEIGHT_G (grams) — legacy single value\n  valueText String? // PROCESSING (immutable canonical value)\n\n  // Range fields (new — min/max for dimensions and weight)\n  valueNumMin Decimal? @db.Decimal(10, 2) // min for LENGTH/WIDTH/HEIGHT/THICKNESS (cm)\n  valueNumMax Decimal? @db.Decimal(10, 2) // max for LENGTH/WIDTH/HEIGHT/THICKNESS (cm)\n  valueIntMin Int? // min for WEIGHT_G (grams)\n  valueIntMax Int? // max for WEIGHT_G (grams)\n\n  // Display label (can be edited). If null => auto generated on backend at create time.\n  label     String?\n  sortOrder Int       @default(0)\n  isActive  Boolean   @default(true)\n  deletedAt DateTime?\n  createdAt DateTime  @default(now())\n  updatedAt DateTime  @updatedAt\n\n  // Variant relations\n  variantAsLength     CustomerProductVariant[] @relation(\"VariantLength\")\n  variantAsWidth      CustomerProductVariant[] @relation(\"VariantWidth\")\n  variantAsWeight     CustomerProductVariant[] @relation(\"VariantWeight\")\n  variantAsProcessing CustomerProductVariant[] @relation(\"VariantProcessing\")\n\n  exclusions ProductParamExclusion[]\n\n  @@index([subcategoryId, paramType, deletedAt, isActive, sortOrder])\n  @@index([productId, paramType, deletedAt, isActive, sortOrder])\n  @@index([paramType, isActive])\n}\n\nmodel ProductParamExclusion {\n  id           Int @id @default(autoincrement())\n  productId    Int\n  paramValueId Int\n\n  product    Product    @relation(fields: [productId], references: [id], onDelete: Cascade)\n  paramValue ParamValue @relation(fields: [paramValueId], references: [id], onDelete: Cascade)\n\n  @@unique([productId, paramValueId])\n  @@index([productId])\n  @@index([paramValueId])\n}\n\nmodel CustomerProductVariant {\n  id                Int @id @default(autoincrement())\n  customerProductId Int\n\n  lengthParamValueId     Int\n  widthParamValueId      Int\n  weightParamValueId     Int\n  processingParamValueId Int\n\n  sortOrder Int      @default(0)\n  isActive  Boolean  @default(true)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  customerProduct CustomerProduct @relation(fields: [customerProductId], references: [id], onDelete: Cascade)\n\n  lengthParamValue     ParamValue @relation(\"VariantLength\", fields: [lengthParamValueId], references: [id], onDelete: Restrict)\n  widthParamValue      ParamValue @relation(\"VariantWidth\", fields: [widthParamValueId], references: [id], onDelete: Restrict)\n  weightParamValue     ParamValue @relation(\"VariantWeight\", fields: [weightParamValueId], references: [id], onDelete: Restrict)\n  processingParamValue ParamValue @relation(\"VariantProcessing\", fields: [processingParamValueId], references: [id], onDelete: Restrict)\n\n  @@unique([customerProductId, lengthParamValueId, widthParamValueId, weightParamValueId, processingParamValueId])\n  @@index([customerProductId])\n}\n",
  "inlineSchemaHash": "40d72ddb352f03b1a01afed8e00aa9aa9d947ec5932f224f8adddd80fcbf3950",
  "copyEngine": true
}
config.dirname = '/'

config.runtimeDataModel = JSON.parse("{\"models\":{\"User\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"username\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"password\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"role\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"telegramId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"authVersion\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"productionStaff\",\"kind\":\"object\",\"type\":\"ProductionStaff\",\"relationName\":\"ProductionStaffToUser\"},{\"name\":\"expeditor\",\"kind\":\"object\",\"type\":\"Expeditor\",\"relationName\":\"ExpeditorToUser\"},{\"name\":\"userRoles\",\"kind\":\"object\",\"type\":\"UserRole\",\"relationName\":\"UserToUserRole\"},{\"name\":\"createdMmls\",\"kind\":\"object\",\"type\":\"ProductionMml\",\"relationName\":\"MmlCreator\"},{\"name\":\"productionRuns\",\"kind\":\"object\",\"type\":\"ProductionRun\",\"relationName\":\"RunUser\"},{\"name\":\"purchases\",\"kind\":\"object\",\"type\":\"Purchase\",\"relationName\":\"PurchaseCreator\"},{\"name\":\"warehouses\",\"kind\":\"object\",\"type\":\"Warehouse\",\"relationName\":\"WarehouseResponsible\"},{\"name\":\"productionDocs\",\"kind\":\"object\",\"type\":\"ProductionDoc\",\"relationName\":\"ProductionDocCreator\"},{\"name\":\"productionInputs\",\"kind\":\"object\",\"type\":\"ProductionInput\",\"relationName\":\"ProductionInputLoader\"},{\"name\":\"cuttingLines\",\"kind\":\"object\",\"type\":\"ProductionCuttingLine\",\"relationName\":\"CuttingLineCreator\"},{\"name\":\"createdAdjustments\",\"kind\":\"object\",\"type\":\"ProductionAdjustment\",\"relationName\":\"AdjustmentCreator\"},{\"name\":\"voidedAdjustments\",\"kind\":\"object\",\"type\":\"ProductionAdjustment\",\"relationName\":\"AdjustmentVoider\"},{\"name\":\"supplierReturnsCreated\",\"kind\":\"object\",\"type\":\"SupplierReturn\",\"relationName\":\"SupplierReturnCreator\"},{\"name\":\"supplierPaymentsCreated\",\"kind\":\"object\",\"type\":\"SupplierPayment\",\"relationName\":\"SupplierPaymentCreator\"},{\"name\":\"supplierPaymentsDeleted\",\"kind\":\"object\",\"type\":\"SupplierPayment\",\"relationName\":\"SupplierPaymentDeleter\"},{\"name\":\"telegramBoundCustomers\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"TelegramBoundBy\"},{\"name\":\"telegramBindRequests\",\"kind\":\"object\",\"type\":\"TelegramBindRequest\",\"relationName\":\"BindRequestCreator\"},{\"name\":\"customerSalesManagers\",\"kind\":\"object\",\"type\":\"CustomerSalesManager\",\"relationName\":\"CustomerSalesManagerToUser\"},{\"name\":\"csmAssignedBy\",\"kind\":\"object\",\"type\":\"CustomerSalesManager\",\"relationName\":\"CSM_AssignedBy\"},{\"name\":\"csmUnassignedBy\",\"kind\":\"object\",\"type\":\"CustomerSalesManager\",\"relationName\":\"CSM_UnassignedBy\"},{\"name\":\"draftRejectedBy\",\"kind\":\"object\",\"type\":\"OrderDraft\",\"relationName\":\"OrderDraftRejectedBy\"},{\"name\":\"draftAcceptedBy\",\"kind\":\"object\",\"type\":\"OrderDraft\",\"relationName\":\"OrderDraftAcceptedBy\"},{\"name\":\"customerRefundsCreated\",\"kind\":\"object\",\"type\":\"CustomerMoneyRefund\",\"relationName\":\"CustomerRefundCreator\"},{\"name\":\"customerRefundsUpdated\",\"kind\":\"object\",\"type\":\"CustomerMoneyRefund\",\"relationName\":\"CustomerRefundUpdater\"},{\"name\":\"customerRefundsDeleted\",\"kind\":\"object\",\"type\":\"CustomerMoneyRefund\",\"relationName\":\"CustomerRefundDeleter\"}],\"dbName\":null},\"District\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customers\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToDistrict\"}],\"dbName\":null},\"Manager\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customers\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToManager\"}],\"dbName\":null},\"Product\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"altName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"priceListName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"coefficient\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"lossNorm\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"participatesInProduction\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"orderItems\",\"kind\":\"object\",\"type\":\"OrderItem\",\"relationName\":\"OrderItemToProduct\"},{\"name\":\"stock\",\"kind\":\"object\",\"type\":\"Stock\",\"relationName\":\"ProductToStock\"},{\"name\":\"stockTransactions\",\"kind\":\"object\",\"type\":\"StockTransaction\",\"relationName\":\"ProductToStockTransaction\"},{\"name\":\"suppliers\",\"kind\":\"object\",\"type\":\"SupplierProduct\",\"relationName\":\"ProductToSupplierProduct\"},{\"name\":\"summaryJournalEntries\",\"kind\":\"object\",\"type\":\"SummaryOrderJournal\",\"relationName\":\"ProductToSummaryOrderJournal\"},{\"name\":\"productionItems\",\"kind\":\"object\",\"type\":\"ProductionItem\",\"relationName\":\"ProductToProductionItem\"},{\"name\":\"purchasePriceItems\",\"kind\":\"object\",\"type\":\"PurchasePriceItem\",\"relationName\":\"ProductToPurchasePriceItem\"},{\"name\":\"salesPriceItems\",\"kind\":\"object\",\"type\":\"SalesPriceItem\",\"relationName\":\"ProductToSalesPriceItem\"},{\"name\":\"productionMmls\",\"kind\":\"object\",\"type\":\"ProductionMml\",\"relationName\":\"ProductToProductionMml\"},{\"name\":\"mmlNodes\",\"kind\":\"object\",\"type\":\"ProductionMmlNode\",\"relationName\":\"MmlNodeProduct\"},{\"name\":\"productionRuns\",\"kind\":\"object\",\"type\":\"ProductionRun\",\"relationName\":\"ProductRuns\"},{\"name\":\"runValueSnapshots\",\"kind\":\"object\",\"type\":\"ProductionRunValue\",\"relationName\":\"RunValueSnapshot\"},{\"name\":\"purchaseItemsRel\",\"kind\":\"object\",\"type\":\"PurchaseItem\",\"relationName\":\"PurchaseItemProduct\"},{\"name\":\"svodLines\",\"kind\":\"object\",\"type\":\"SvodLine\",\"relationName\":\"ProductToSvodLine\"},{\"name\":\"svodSupplierValues\",\"kind\":\"object\",\"type\":\"SvodSupplierValue\",\"relationName\":\"ProductToSvodSupplierValue\"},{\"name\":\"productionInputs\",\"kind\":\"object\",\"type\":\"ProductionInput\",\"relationName\":\"ProductionInputProduct\"},{\"name\":\"productionOutputs\",\"kind\":\"object\",\"type\":\"ProductionOutput\",\"relationName\":\"ProductionOutputProduct\"},{\"name\":\"cuttingLineOutputs\",\"kind\":\"object\",\"type\":\"ProductionCuttingLine\",\"relationName\":\"CuttingLineOutput\"},{\"name\":\"customerProducts\",\"kind\":\"object\",\"type\":\"CustomerProduct\",\"relationName\":\"CustomerProductToProduct\"},{\"name\":\"customerCardItems\",\"kind\":\"object\",\"type\":\"CustomerCardItem\",\"relationName\":\"CustomerCardItemToProduct\"},{\"name\":\"materialReportLines\",\"kind\":\"object\",\"type\":\"MaterialReportLine\",\"relationName\":\"MaterialReportLineToProduct\"},{\"name\":\"materialReportDraftLines\",\"kind\":\"object\",\"type\":\"MaterialReportDraftLine\",\"relationName\":\"MaterialReportDraftLineToProduct\"},{\"name\":\"orderReturnItems\",\"kind\":\"object\",\"type\":\"OrderReturnItem\",\"relationName\":\"OrderReturnItemToProduct\"},{\"name\":\"productionClosures\",\"kind\":\"object\",\"type\":\"ProductionClosure\",\"relationName\":\"ProductionClosures\"},{\"name\":\"productionAdjustments\",\"kind\":\"object\",\"type\":\"ProductionAdjustment\",\"relationName\":\"ProductToProductionAdjustment\"},{\"name\":\"uomId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"uom\",\"kind\":\"object\",\"type\":\"UnitOfMeasure\",\"relationName\":\"ProductToUnitOfMeasure\"},{\"name\":\"supplierReturnItems\",\"kind\":\"object\",\"type\":\"SupplierReturnItem\",\"relationName\":\"ProductToSupplierReturnItem\"},{\"name\":\"countryId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"country\",\"kind\":\"object\",\"type\":\"Country\",\"relationName\":\"CountryToProduct\"},{\"name\":\"subcategoryId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"subcategory\",\"kind\":\"object\",\"type\":\"ProductSubcategory\",\"relationName\":\"ProductToProductSubcategory\"},{\"name\":\"productParams\",\"kind\":\"object\",\"type\":\"ParamValue\",\"relationName\":\"ProductParams\"},{\"name\":\"paramExclusions\",\"kind\":\"object\",\"type\":\"ProductParamExclusion\",\"relationName\":\"ProductToProductParamExclusion\"}],\"dbName\":null},\"UnitOfMeasure\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isBase\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isDefault\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"products\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToUnitOfMeasure\"}],\"dbName\":null},\"Customer\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"legalName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"inn\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"telegramGroupName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"telegramGroupUsername\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"telegramChatId\",\"kind\":\"scalar\",\"type\":\"BigInt\"},{\"name\":\"telegramChatType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"telegramIsEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"telegramBoundAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"telegramBoundByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"districtId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"managerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"district\",\"kind\":\"object\",\"type\":\"District\",\"relationName\":\"CustomerToDistrict\"},{\"name\":\"manager\",\"kind\":\"object\",\"type\":\"Manager\",\"relationName\":\"CustomerToManager\"},{\"name\":\"telegramBoundByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"TelegramBoundBy\"},{\"name\":\"orders\",\"kind\":\"object\",\"type\":\"Order\",\"relationName\":\"CustomerToOrder\"},{\"name\":\"summaryJournalEntries\",\"kind\":\"object\",\"type\":\"SummaryOrderJournal\",\"relationName\":\"CustomerToSummaryOrderJournal\"},{\"name\":\"salesPriceLists\",\"kind\":\"object\",\"type\":\"SalesPriceList\",\"relationName\":\"CustomerToSalesPriceList\"},{\"name\":\"customerProducts\",\"kind\":\"object\",\"type\":\"CustomerProduct\",\"relationName\":\"CustomerToCustomerProduct\"},{\"name\":\"customerCards\",\"kind\":\"object\",\"type\":\"CustomerCard\",\"relationName\":\"CustomerToCustomerCard\"},{\"name\":\"telegramBindRequests\",\"kind\":\"object\",\"type\":\"TelegramBindRequest\",\"relationName\":\"CustomerToTelegramBindRequest\"},{\"name\":\"orderDrafts\",\"kind\":\"object\",\"type\":\"OrderDraft\",\"relationName\":\"CustomerToOrderDraft\"},{\"name\":\"telegramOutbox\",\"kind\":\"object\",\"type\":\"TelegramOutbox\",\"relationName\":\"CustomerToTelegramOutbox\"},{\"name\":\"salesManagers\",\"kind\":\"object\",\"type\":\"CustomerSalesManager\",\"relationName\":\"CustomerToCustomerSalesManager\"},{\"name\":\"moneyRefunds\",\"kind\":\"object\",\"type\":\"CustomerMoneyRefund\",\"relationName\":\"CustomerToCustomerMoneyRefund\"},{\"name\":\"addresses\",\"kind\":\"object\",\"type\":\"CustomerAddress\",\"relationName\":\"CustomerToCustomerAddress\"}],\"dbName\":null},\"CustomerAddress\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToCustomerAddress\"},{\"name\":\"label\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"addressText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lat\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"lng\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"accuracyM\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"comment\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isDefault\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"orders\",\"kind\":\"object\",\"type\":\"Order\",\"relationName\":\"CustomerAddressToOrder\"}],\"dbName\":null},\"CustomerCard\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToCustomerCard\"},{\"name\":\"items\",\"kind\":\"object\",\"type\":\"CustomerCardItem\",\"relationName\":\"CustomerCardToCustomerCardItem\"}],\"dbName\":null},\"CustomerCardItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"cardId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"card\",\"kind\":\"object\",\"type\":\"CustomerCard\",\"relationName\":\"CustomerCardToCustomerCardItem\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"CustomerCardItemToProduct\"},{\"name\":\"photos\",\"kind\":\"object\",\"type\":\"CustomerCardItemPhoto\",\"relationName\":\"CustomerCardItemToCustomerCardItemPhoto\"}],\"dbName\":null},\"CustomerCardItemPhoto\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"itemId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"url\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"item\",\"kind\":\"object\",\"type\":\"CustomerCardItem\",\"relationName\":\"CustomerCardItemToCustomerCardItemPhoto\"}],\"dbName\":null},\"CustomerProduct\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToCustomerProduct\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"CustomerProductToProduct\"},{\"name\":\"variants\",\"kind\":\"object\",\"type\":\"CustomerProductVariant\",\"relationName\":\"CustomerProductToCustomerProductVariant\"}],\"dbName\":null},\"Supplier\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"legalName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"altName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"telegram\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"telegramChatId\",\"kind\":\"scalar\",\"type\":\"BigInt\"},{\"name\":\"telegramThreadId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"telegramEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"primaryMmlId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"primaryMml\",\"kind\":\"object\",\"type\":\"ProductionMml\",\"relationName\":\"SupplierPrimaryMml\"},{\"name\":\"products\",\"kind\":\"object\",\"type\":\"SupplierProduct\",\"relationName\":\"SupplierToSupplierProduct\"},{\"name\":\"purchasePriceListSuppliers\",\"kind\":\"object\",\"type\":\"PurchasePriceListSupplier\",\"relationName\":\"PurchasePriceListSupplierToSupplier\"},{\"name\":\"purchasePriceItems\",\"kind\":\"object\",\"type\":\"PurchasePriceItem\",\"relationName\":\"PurchasePriceItemToSupplier\"},{\"name\":\"purchases\",\"kind\":\"object\",\"type\":\"PurchaseSupplier\",\"relationName\":\"PurchaseSupplierToSupplier\"},{\"name\":\"purchaseItems\",\"kind\":\"object\",\"type\":\"PurchaseItem\",\"relationName\":\"PurchaseItemToSupplier\"},{\"name\":\"svodSupplierCols\",\"kind\":\"object\",\"type\":\"SvodSupplierCol\",\"relationName\":\"SupplierToSvodSupplierCol\"},{\"name\":\"svodSupplierValues\",\"kind\":\"object\",\"type\":\"SvodSupplierValue\",\"relationName\":\"SupplierToSvodSupplierValue\"},{\"name\":\"supplierReturns\",\"kind\":\"object\",\"type\":\"SupplierReturn\",\"relationName\":\"SupplierToSupplierReturn\"},{\"name\":\"supplierPayments\",\"kind\":\"object\",\"type\":\"SupplierPayment\",\"relationName\":\"SupplierToSupplierPayment\"},{\"name\":\"supplierLedger\",\"kind\":\"object\",\"type\":\"SupplierLedger\",\"relationName\":\"SupplierToSupplierLedger\"},{\"name\":\"orderTelegramLogs\",\"kind\":\"object\",\"type\":\"OrderTelegramLog\",\"relationName\":\"OrderTelegramLogToSupplier\"}],\"dbName\":null},\"OrderTelegramLog\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"orderId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"supplierId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"chatId\",\"kind\":\"scalar\",\"type\":\"BigInt\"},{\"name\":\"threadId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"text\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"error\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sentByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sentAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"supplier\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"OrderTelegramLogToSupplier\"}],\"dbName\":null},\"SupplierProduct\":{\"fields\":[{\"name\":\"supplierId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToSupplierProduct\"},{\"name\":\"supplier\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"SupplierToSupplierProduct\"}],\"dbName\":null},\"Order\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"idn\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"date\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"paymentType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"expeditorId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalAmount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"totalWeight\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"isDisabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"dispatchDay\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"assemblyStartedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"assemblyConfirmedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"loadedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"shippedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"assemblyStartedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"assemblyConfirmedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"loadedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"shippedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"deliveryAddress\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"assignedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deliveryStatus\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"signatureUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"signedInvoiceUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"deliveryLat\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"deliveryLng\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"deliveryAccuracyM\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"deliveryComment\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerAddressId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerAddress\",\"kind\":\"object\",\"type\":\"CustomerAddress\",\"relationName\":\"CustomerAddressToOrder\"},{\"name\":\"returnTotalQty\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"returnTotalSum\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"netTotalSum\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"isEdited\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"editedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToOrder\"},{\"name\":\"expeditor\",\"kind\":\"object\",\"type\":\"Expeditor\",\"relationName\":\"ExpeditorToOrder\"},{\"name\":\"items\",\"kind\":\"object\",\"type\":\"OrderItem\",\"relationName\":\"OrderToOrderItem\"},{\"name\":\"stockTransactions\",\"kind\":\"object\",\"type\":\"StockTransaction\",\"relationName\":\"OrderToStockTransaction\"},{\"name\":\"attachments\",\"kind\":\"object\",\"type\":\"OrderAttachment\",\"relationName\":\"OrderToOrderAttachment\"},{\"name\":\"returns\",\"kind\":\"object\",\"type\":\"OrderReturn\",\"relationName\":\"OrderToOrderReturn\"},{\"name\":\"returnAuditLogs\",\"kind\":\"object\",\"type\":\"ReturnAuditLog\",\"relationName\":\"OrderToReturnAuditLog\"},{\"name\":\"draftId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"draft\",\"kind\":\"object\",\"type\":\"OrderDraft\",\"relationName\":\"OrderToOrderDraft\"}],\"dbName\":null},\"OrderAttachment\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"orderId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"type\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"filename\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"url\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"mimeType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"order\",\"kind\":\"object\",\"type\":\"Order\",\"relationName\":\"OrderToOrderAttachment\"}],\"dbName\":null},\"OrderItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"orderId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"quantity\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"price\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"amount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"shippedQty\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"qtyReturn\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"distributionCoef\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"sumWithRevaluation\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"weightToDistribute\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"order\",\"kind\":\"object\",\"type\":\"Order\",\"relationName\":\"OrderToOrderItem\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"OrderItemToProduct\"},{\"name\":\"summaryEntry\",\"kind\":\"object\",\"type\":\"SummaryOrderJournal\",\"relationName\":\"OrderItemToSummaryOrderJournal\"},{\"name\":\"returnItems\",\"kind\":\"object\",\"type\":\"OrderReturnItem\",\"relationName\":\"OrderItemToOrderReturnItem\"}],\"dbName\":null},\"OrderReturn\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"orderId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"expeditionId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"totalQty\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"totalSum\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"order\",\"kind\":\"object\",\"type\":\"Order\",\"relationName\":\"OrderToOrderReturn\"},{\"name\":\"expedition\",\"kind\":\"object\",\"type\":\"ExpeditionJournal\",\"relationName\":\"ExpeditionJournalToOrderReturn\"},{\"name\":\"items\",\"kind\":\"object\",\"type\":\"OrderReturnItem\",\"relationName\":\"OrderReturnToOrderReturnItem\"}],\"dbName\":null},\"OrderReturnItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"returnId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"orderItemId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"qtyShip\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"qtyReturn\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"price\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"sumShip\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"sumNet\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"orderReturn\",\"kind\":\"object\",\"type\":\"OrderReturn\",\"relationName\":\"OrderReturnToOrderReturnItem\"},{\"name\":\"orderItem\",\"kind\":\"object\",\"type\":\"OrderItem\",\"relationName\":\"OrderItemToOrderReturnItem\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"OrderReturnItemToProduct\"}],\"dbName\":null},\"ReturnAuditLog\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"orderId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"returnId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"expeditionId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"action\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"performedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"totalQty\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"totalSum\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"details\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"order\",\"kind\":\"object\",\"type\":\"Order\",\"relationName\":\"OrderToReturnAuditLog\"}],\"dbName\":null},\"Expeditor\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ExpeditorToUser\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"orders\",\"kind\":\"object\",\"type\":\"Order\",\"relationName\":\"ExpeditorToOrder\"}],\"dbName\":null},\"Stock\":{\"fields\":[{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"quantity\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToStock\"}],\"dbName\":null},\"StockTransaction\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"type\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"quantity\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"orderId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"note\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"order\",\"kind\":\"object\",\"type\":\"Order\",\"relationName\":\"OrderToStockTransaction\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToStockTransaction\"}],\"dbName\":null},\"SummaryOrderJournal\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"idn\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"shipDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"paymentType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productCode\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"productFullName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"shortNameMorning\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"priceType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"price\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"shippedQty\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"orderQty\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"sumWithRevaluation\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"distributionCoef\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"weightToDistribute\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"managerId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"managerName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"district\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"pointAddress\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"preAssemblyStatus\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"assemblyStartedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"assemblyStartedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"assemblyReturnedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"assemblyReturnedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"assemblyReturnReason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"assemblyReturnComment\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"confirmedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"confirmedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToSummaryOrderJournal\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToSummaryOrderJournal\"},{\"name\":\"events\",\"kind\":\"object\",\"type\":\"SummaryOrderEvent\",\"relationName\":\"SummaryOrderEventToSummaryOrderJournal\"},{\"name\":\"orderItemId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"orderItem\",\"kind\":\"object\",\"type\":\"OrderItem\",\"relationName\":\"OrderItemToSummaryOrderJournal\"}],\"dbName\":null},\"SummaryOrderEvent\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"summaryOrderId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"eventType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"fromStatus\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"toStatus\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"comment\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"payload\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"summaryOrder\",\"kind\":\"object\",\"type\":\"SummaryOrderJournal\",\"relationName\":\"SummaryOrderEventToSummaryOrderJournal\"}],\"dbName\":null},\"SummaryOrdersJournal\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"summaryDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isHidden\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"data\",\"kind\":\"scalar\",\"type\":\"Json\"}],\"dbName\":null},\"AssemblyOrdersJournal\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"assemblyDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isHidden\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"sourceSummaryId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"data\",\"kind\":\"scalar\",\"type\":\"Json\"}],\"dbName\":null},\"ExpeditionJournal\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"expeditorId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"expeditorName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dateFrom\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"dateTo\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"ordersCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalWeight\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"totalAmount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"isHidden\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"data\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"returns\",\"kind\":\"object\",\"type\":\"OrderReturn\",\"relationName\":\"ExpeditionJournalToOrderReturn\"}],\"dbName\":null},\"DistributionJournal\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"date\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"ordersCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalWeight\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"totalAmount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"isHidden\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"data\",\"kind\":\"scalar\",\"type\":\"Json\"}],\"dbName\":null},\"ProductionStaff\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"fullName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ProductionStaffToUser\"},{\"name\":\"journals\",\"kind\":\"object\",\"type\":\"ProductionJournal\",\"relationName\":\"ProductionJournalToProductionStaff\"},{\"name\":\"runValues\",\"kind\":\"object\",\"type\":\"ProductionRunValue\",\"relationName\":\"ProductionRunValueToProductionStaff\"}],\"dbName\":null},\"ProductionJournal\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productionDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"staffId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"updatedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"staff\",\"kind\":\"object\",\"type\":\"ProductionStaff\",\"relationName\":\"ProductionJournalToProductionStaff\"},{\"name\":\"items\",\"kind\":\"object\",\"type\":\"ProductionItem\",\"relationName\":\"ProductionItemToProductionJournal\"}],\"dbName\":null},\"ProductionItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"journalId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"state\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isDeleted\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deletedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"updatedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"journal\",\"kind\":\"object\",\"type\":\"ProductionJournal\",\"relationName\":\"ProductionItemToProductionJournal\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToProductionItem\"},{\"name\":\"values\",\"kind\":\"object\",\"type\":\"ProductionItemValue\",\"relationName\":\"ProductionItemToProductionItemValue\"}],\"dbName\":null},\"ProductionItemValue\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productionItemId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"fieldKey\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"fieldValue\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"productionItem\",\"kind\":\"object\",\"type\":\"ProductionItem\",\"relationName\":\"ProductionItemToProductionItemValue\"}],\"dbName\":null},\"PurchasePriceList\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"date\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"updatedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"suppliers\",\"kind\":\"object\",\"type\":\"PurchasePriceListSupplier\",\"relationName\":\"PurchasePriceListToPurchasePriceListSupplier\"},{\"name\":\"items\",\"kind\":\"object\",\"type\":\"PurchasePriceItem\",\"relationName\":\"PurchasePriceItemToPurchasePriceList\"}],\"dbName\":null},\"PurchasePriceListSupplier\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"priceListId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"supplierId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"primaryMmlId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"priceList\",\"kind\":\"object\",\"type\":\"PurchasePriceList\",\"relationName\":\"PurchasePriceListToPurchasePriceListSupplier\"},{\"name\":\"supplier\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"PurchasePriceListSupplierToSupplier\"},{\"name\":\"primaryMml\",\"kind\":\"object\",\"type\":\"ProductionMml\",\"relationName\":\"PriceListSupplierMml\"}],\"dbName\":null},\"PurchasePriceItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"priceListId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"supplierId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"purchasePrice\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"priceList\",\"kind\":\"object\",\"type\":\"PurchasePriceList\",\"relationName\":\"PurchasePriceItemToPurchasePriceList\"},{\"name\":\"supplier\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"PurchasePriceItemToSupplier\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToPurchasePriceItem\"}],\"dbName\":null},\"SalesPriceList\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"listType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"effectiveDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isCurrent\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isHidden\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"updatedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToSalesPriceList\"},{\"name\":\"items\",\"kind\":\"object\",\"type\":\"SalesPriceItem\",\"relationName\":\"SalesPriceItemToSalesPriceList\"}],\"dbName\":null},\"SalesPriceItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"priceListId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"salePrice\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"rowDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"priceList\",\"kind\":\"object\",\"type\":\"SalesPriceList\",\"relationName\":\"SalesPriceItemToSalesPriceList\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToSalesPriceItem\"}],\"dbName\":null},\"ProductionMml\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isLocked\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isDeleted\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"version\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"parentMmlId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToProductionMml\"},{\"name\":\"creator\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"MmlCreator\"},{\"name\":\"parentMml\",\"kind\":\"object\",\"type\":\"ProductionMml\",\"relationName\":\"MmlVersions\"},{\"name\":\"childVersions\",\"kind\":\"object\",\"type\":\"ProductionMml\",\"relationName\":\"MmlVersions\"},{\"name\":\"nodes\",\"kind\":\"object\",\"type\":\"ProductionMmlNode\",\"relationName\":\"ProductionMmlToProductionMmlNode\"},{\"name\":\"runs\",\"kind\":\"object\",\"type\":\"ProductionRun\",\"relationName\":\"ProductionMmlToProductionRun\"},{\"name\":\"suppliersWithPrimaryMml\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"SupplierPrimaryMml\"},{\"name\":\"priceListSuppliers\",\"kind\":\"object\",\"type\":\"PurchasePriceListSupplier\",\"relationName\":\"PriceListSupplierMml\"},{\"name\":\"cuttingLines\",\"kind\":\"object\",\"type\":\"ProductionCuttingLine\",\"relationName\":\"ProductionCuttingLineToProductionMml\"}],\"dbName\":null},\"ProductionMmlNode\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"mmlId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"parentNodeId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"sourceNodeId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"mml\",\"kind\":\"object\",\"type\":\"ProductionMml\",\"relationName\":\"ProductionMmlToProductionMmlNode\"},{\"name\":\"parentNode\",\"kind\":\"object\",\"type\":\"ProductionMmlNode\",\"relationName\":\"NodeChildren\"},{\"name\":\"children\",\"kind\":\"object\",\"type\":\"ProductionMmlNode\",\"relationName\":\"NodeChildren\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"MmlNodeProduct\"},{\"name\":\"runValues\",\"kind\":\"object\",\"type\":\"ProductionRunValue\",\"relationName\":\"ProductionMmlNodeToProductionRunValue\"},{\"name\":\"shipmentDistributions\",\"kind\":\"object\",\"type\":\"SvodShipmentDistribution\",\"relationName\":\"ProductionMmlNodeToSvodShipmentDistribution\"}],\"dbName\":null},\"ProductionRun\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"mmlId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productionDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"plannedWeight\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"actualWeight\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isLocked\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isHidden\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"needsReview\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"sourceType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sourcePurchaseItemId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sourceOpeningBalanceQty\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductRuns\"},{\"name\":\"mml\",\"kind\":\"object\",\"type\":\"ProductionMml\",\"relationName\":\"ProductionMmlToProductionRun\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"RunUser\"},{\"name\":\"sourcePurchaseItem\",\"kind\":\"object\",\"type\":\"PurchaseItem\",\"relationName\":\"ProductionRunToPurchaseItem\"},{\"name\":\"values\",\"kind\":\"object\",\"type\":\"ProductionRunValue\",\"relationName\":\"ProductionRunToProductionRunValue\"},{\"name\":\"allocations\",\"kind\":\"object\",\"type\":\"ProductionAllocation\",\"relationName\":\"ProductionAllocationToProductionRun\"}],\"dbName\":null},\"ProductionRunValue\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productionRunId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"mmlNodeId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"snapshotProductId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"value\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"staffId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"recordedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"operationAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"opType\",\"kind\":\"enum\",\"type\":\"ProductionOpType\"},{\"name\":\"reasonText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"photoUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"photoMeta\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"run\",\"kind\":\"object\",\"type\":\"ProductionRun\",\"relationName\":\"ProductionRunToProductionRunValue\"},{\"name\":\"node\",\"kind\":\"object\",\"type\":\"ProductionMmlNode\",\"relationName\":\"ProductionMmlNodeToProductionRunValue\"},{\"name\":\"snapshotProduct\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"RunValueSnapshot\"},{\"name\":\"staff\",\"kind\":\"object\",\"type\":\"ProductionStaff\",\"relationName\":\"ProductionRunValueToProductionStaff\"}],\"dbName\":null},\"ProductionAllocation\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sourceType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sourceId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"opType\",\"kind\":\"enum\",\"type\":\"ProductionOpType\"},{\"name\":\"purchaseItemId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"qtyAllocated\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"allocatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"isVoided\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"voidedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"voidReason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"purchaseItem\",\"kind\":\"object\",\"type\":\"PurchaseItem\",\"relationName\":\"ProductionAllocationToPurchaseItem\"},{\"name\":\"productionRun\",\"kind\":\"object\",\"type\":\"ProductionRun\",\"relationName\":\"ProductionAllocationToProductionRun\"}],\"dbName\":null},\"ProductionAdjustment\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"adjustmentDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"effectiveDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deltaWeight\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"reason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isLocked\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"voidedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"voidedBy\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"voidReason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToProductionAdjustment\"},{\"name\":\"creator\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"AdjustmentCreator\"},{\"name\":\"voider\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"AdjustmentVoider\"}],\"dbName\":null},\"PaymentType\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"paymentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isBase\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isDefault\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isDisabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"purchaseItems\",\"kind\":\"object\",\"type\":\"PurchaseItem\",\"relationName\":\"PaymentTypeToPurchaseItem\"},{\"name\":\"customerRefunds\",\"kind\":\"object\",\"type\":\"CustomerMoneyRefund\",\"relationName\":\"CustomerMoneyRefundToPaymentType\"}],\"dbName\":null},\"Purchase\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"idn\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"purchaseDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"totalAmount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isDisabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isSystem\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"PurchaseCreator\"},{\"name\":\"suppliers\",\"kind\":\"object\",\"type\":\"PurchaseSupplier\",\"relationName\":\"PurchaseToPurchaseSupplier\"},{\"name\":\"items\",\"kind\":\"object\",\"type\":\"PurchaseItem\",\"relationName\":\"PurchaseToPurchaseItem\"},{\"name\":\"productionInputs\",\"kind\":\"object\",\"type\":\"ProductionInput\",\"relationName\":\"ProductionInputToPurchase\"}],\"dbName\":null},\"PurchaseSupplier\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"purchaseId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"supplierId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"purchase\",\"kind\":\"object\",\"type\":\"Purchase\",\"relationName\":\"PurchaseToPurchaseSupplier\"},{\"name\":\"supplier\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"PurchaseSupplierToSupplier\"}],\"dbName\":null},\"PurchaseItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"purchaseId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"supplierId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"price\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"qty\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"qtyRemaining\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"amount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"paymentTypeId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isSystem\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"purchase\",\"kind\":\"object\",\"type\":\"Purchase\",\"relationName\":\"PurchaseToPurchaseItem\"},{\"name\":\"supplier\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"PurchaseItemToSupplier\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"PurchaseItemProduct\"},{\"name\":\"paymentType\",\"kind\":\"object\",\"type\":\"PaymentType\",\"relationName\":\"PaymentTypeToPurchaseItem\"},{\"name\":\"productionInputs\",\"kind\":\"object\",\"type\":\"ProductionInput\",\"relationName\":\"ProductionInputToPurchaseItem\"},{\"name\":\"productionRuns\",\"kind\":\"object\",\"type\":\"ProductionRun\",\"relationName\":\"ProductionRunToPurchaseItem\"},{\"name\":\"allocations\",\"kind\":\"object\",\"type\":\"ProductionAllocation\",\"relationName\":\"ProductionAllocationToPurchaseItem\"},{\"name\":\"lotClosure\",\"kind\":\"object\",\"type\":\"ProductionLotClosure\",\"relationName\":\"ProductionLotClosureToPurchaseItem\"}],\"dbName\":null},\"TelegramBindRequest\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"usedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"usedByChatId\",\"kind\":\"scalar\",\"type\":\"BigInt\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToTelegramBindRequest\"},{\"name\":\"createdBy\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"BindRequestCreator\"}],\"dbName\":null},\"TelegramInbox\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"chatId\",\"kind\":\"scalar\",\"type\":\"BigInt\"},{\"name\":\"messageId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"messageDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"fromUserId\",\"kind\":\"scalar\",\"type\":\"BigInt\"},{\"name\":\"text\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"raw\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"error\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"processedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"links\",\"kind\":\"object\",\"type\":\"OrderDraftMessage\",\"relationName\":\"OrderDraftMessageToTelegramInbox\"}],\"dbName\":null},\"OrderDraft\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sourceChatId\",\"kind\":\"scalar\",\"type\":\"BigInt\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"note\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"confirmedByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"confirmedByChatId\",\"kind\":\"scalar\",\"type\":\"BigInt\"},{\"name\":\"managerDecisionNote\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"rejectedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"rejectedByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"acceptedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"acceptedByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"items\",\"kind\":\"object\",\"type\":\"OrderDraftItem\",\"relationName\":\"OrderDraftToOrderDraftItem\"},{\"name\":\"messages\",\"kind\":\"object\",\"type\":\"OrderDraftMessage\",\"relationName\":\"OrderDraftToOrderDraftMessage\"},{\"name\":\"order\",\"kind\":\"object\",\"type\":\"Order\",\"relationName\":\"OrderToOrderDraft\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToOrderDraft\"},{\"name\":\"rejectedByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"OrderDraftRejectedBy\"},{\"name\":\"acceptedByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"OrderDraftAcceptedBy\"}],\"dbName\":null},\"OrderDraftItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"draftId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"rawText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"quantity\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"unit\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"draft\",\"kind\":\"object\",\"type\":\"OrderDraft\",\"relationName\":\"OrderDraftToOrderDraftItem\"}],\"dbName\":null},\"OrderDraftMessage\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"draftId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"inboxId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"kind\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"draft\",\"kind\":\"object\",\"type\":\"OrderDraft\",\"relationName\":\"OrderDraftToOrderDraftMessage\"},{\"name\":\"inbox\",\"kind\":\"object\",\"type\":\"TelegramInbox\",\"relationName\":\"OrderDraftMessageToTelegramInbox\"}],\"dbName\":null},\"TelegramOutbox\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"chatId\",\"kind\":\"scalar\",\"type\":\"BigInt\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"text\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"documentType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"documentParams\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"attempts\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"maxAttempts\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"nextAttemptAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lastError\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"sentAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToTelegramOutbox\"}],\"dbName\":null},\"CustomerSalesManager\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"assignedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"assignedByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"unassignedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"unassignedByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToCustomerSalesManager\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CustomerSalesManagerToUser\"},{\"name\":\"assignedByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CSM_AssignedBy\"},{\"name\":\"unassignedByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CSM_UnassignedBy\"}],\"dbName\":null},\"CustomerMoneyRefund\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"refundDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"amount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"paymentTypeId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"reference\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"comment\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"proofUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"updatedByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deletedByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customer\",\"kind\":\"object\",\"type\":\"Customer\",\"relationName\":\"CustomerToCustomerMoneyRefund\"},{\"name\":\"paymentType\",\"kind\":\"object\",\"type\":\"PaymentType\",\"relationName\":\"CustomerMoneyRefundToPaymentType\"},{\"name\":\"createdByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CustomerRefundCreator\"},{\"name\":\"updatedByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CustomerRefundUpdater\"},{\"name\":\"deletedByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CustomerRefundDeleter\"}],\"dbName\":null},\"Warehouse\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"address\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"phone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"responsibleUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"comment\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isDisabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"responsibleUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"WarehouseResponsible\"},{\"name\":\"productionDocs\",\"kind\":\"object\",\"type\":\"ProductionDoc\",\"relationName\":\"ProductionDocToWarehouse\"},{\"name\":\"productionInputs\",\"kind\":\"object\",\"type\":\"ProductionInput\",\"relationName\":\"ProductionInputToWarehouse\"},{\"name\":\"materialReports\",\"kind\":\"object\",\"type\":\"MaterialReport\",\"relationName\":\"MaterialReportToWarehouse\"},{\"name\":\"materialReportDrafts\",\"kind\":\"object\",\"type\":\"MaterialReportDraft\",\"relationName\":\"MaterialReportDraftToWarehouse\"}],\"dbName\":null},\"SvodHeader\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"svodDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lines\",\"kind\":\"object\",\"type\":\"SvodLine\",\"relationName\":\"SvodHeaderToSvodLine\"},{\"name\":\"supplierCols\",\"kind\":\"object\",\"type\":\"SvodSupplierCol\",\"relationName\":\"SvodHeaderToSvodSupplierCol\"},{\"name\":\"supplierValues\",\"kind\":\"object\",\"type\":\"SvodSupplierValue\",\"relationName\":\"SvodHeaderToSvodSupplierValue\"},{\"name\":\"materialReportDrafts\",\"kind\":\"object\",\"type\":\"MaterialReportDraft\",\"relationName\":\"MaterialReportDraftToSvodHeader\"}],\"dbName\":null},\"SvodLine\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"svodId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"shortName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"coefficient\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"orderQty\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"productionInQty\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"openingStock\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"openingStockIsManual\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"afterPurchaseStock\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"afterShipmentStock\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"qtyToShip\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"factMinusWaste\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"weightToShip\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"planFactDiff\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"underOver\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"isDistributionSource\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"distributedFromLineId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"distributedFromName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"svod\",\"kind\":\"object\",\"type\":\"SvodHeader\",\"relationName\":\"SvodHeaderToSvodLine\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToSvodLine\"},{\"name\":\"shipmentDistributions\",\"kind\":\"object\",\"type\":\"SvodShipmentDistribution\",\"relationName\":\"SvodLineToSvodShipmentDistribution\"}],\"dbName\":null},\"SvodSupplierCol\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"svodId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"colIndex\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"supplierId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"supplierName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"totalPurchase\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"svod\",\"kind\":\"object\",\"type\":\"SvodHeader\",\"relationName\":\"SvodHeaderToSvodSupplierCol\"},{\"name\":\"supplier\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"SupplierToSvodSupplierCol\"}],\"dbName\":null},\"SvodSupplierValue\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"svodId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"supplierId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"purchaseQty\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"svod\",\"kind\":\"object\",\"type\":\"SvodHeader\",\"relationName\":\"SvodHeaderToSvodSupplierValue\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToSvodSupplierValue\"},{\"name\":\"supplier\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"SupplierToSvodSupplierValue\"}],\"dbName\":null},\"SvodShipmentDistribution\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"svodLineId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"mmlNodeId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"distributedQty\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"svodLine\",\"kind\":\"object\",\"type\":\"SvodLine\",\"relationName\":\"SvodLineToSvodShipmentDistribution\"},{\"name\":\"mmlNode\",\"kind\":\"object\",\"type\":\"ProductionMmlNode\",\"relationName\":\"ProductionMmlNodeToSvodShipmentDistribution\"}],\"dbName\":null},\"ProductionDoc\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"date\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"warehouseId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"warehouse\",\"kind\":\"object\",\"type\":\"Warehouse\",\"relationName\":\"ProductionDocToWarehouse\"},{\"name\":\"createdBy\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ProductionDocCreator\"},{\"name\":\"inputs\",\"kind\":\"object\",\"type\":\"ProductionInput\",\"relationName\":\"ProductionDocToProductionInput\"},{\"name\":\"outputs\",\"kind\":\"object\",\"type\":\"ProductionOutput\",\"relationName\":\"ProductionDocToProductionOutput\"},{\"name\":\"cuttingLines\",\"kind\":\"object\",\"type\":\"ProductionCuttingLine\",\"relationName\":\"ProductionCuttingLineToProductionDoc\"}],\"dbName\":null},\"ProductionInput\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productionDocId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"purchaseId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"purchaseItemId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"warehouseId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"qtyIn\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"qtyUsed\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"priceIn\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"loadedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"loadedByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productionDoc\",\"kind\":\"object\",\"type\":\"ProductionDoc\",\"relationName\":\"ProductionDocToProductionInput\"},{\"name\":\"purchase\",\"kind\":\"object\",\"type\":\"Purchase\",\"relationName\":\"ProductionInputToPurchase\"},{\"name\":\"purchaseItem\",\"kind\":\"object\",\"type\":\"PurchaseItem\",\"relationName\":\"ProductionInputToPurchaseItem\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductionInputProduct\"},{\"name\":\"warehouse\",\"kind\":\"object\",\"type\":\"Warehouse\",\"relationName\":\"ProductionInputToWarehouse\"},{\"name\":\"loadedBy\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ProductionInputLoader\"},{\"name\":\"cuttingLines\",\"kind\":\"object\",\"type\":\"ProductionCuttingLine\",\"relationName\":\"ProductionCuttingLineToProductionInput\"}],\"dbName\":null},\"ProductionOutput\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productionDocId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"qtyOut\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"uom\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"costTotal\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"costPerUnit\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"productionDoc\",\"kind\":\"object\",\"type\":\"ProductionDoc\",\"relationName\":\"ProductionDocToProductionOutput\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductionOutputProduct\"}],\"dbName\":null},\"ProductionCuttingLine\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productionDocId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productionInputId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"mmlId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"outProductId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"qtyOut\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"qtyInConsumed\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productionDoc\",\"kind\":\"object\",\"type\":\"ProductionDoc\",\"relationName\":\"ProductionCuttingLineToProductionDoc\"},{\"name\":\"productionInput\",\"kind\":\"object\",\"type\":\"ProductionInput\",\"relationName\":\"ProductionCuttingLineToProductionInput\"},{\"name\":\"mml\",\"kind\":\"object\",\"type\":\"ProductionMml\",\"relationName\":\"ProductionCuttingLineToProductionMml\"},{\"name\":\"outProduct\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"CuttingLineOutput\"},{\"name\":\"createdBy\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CuttingLineCreator\"}],\"dbName\":null},\"MaterialReport\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"reportDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"warehouseId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sourceType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sourceId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lines\",\"kind\":\"object\",\"type\":\"MaterialReportLine\",\"relationName\":\"MaterialReportToMaterialReportLine\"},{\"name\":\"warehouse\",\"kind\":\"object\",\"type\":\"Warehouse\",\"relationName\":\"MaterialReportToWarehouse\"}],\"dbName\":null},\"MaterialReportLine\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"materialReportId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productCode\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"productName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"openingBalance\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"inPurchase\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"inProduction\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outSale\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outWaste\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outBundle\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outDefectWriteoff\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outProductionWriteoff\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outWeightLoss\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outSupplierReturn\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"closingBalanceCalc\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"closingBalanceFact\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"materialReport\",\"kind\":\"object\",\"type\":\"MaterialReport\",\"relationName\":\"MaterialReportToMaterialReportLine\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"MaterialReportLineToProduct\"}],\"dbName\":null},\"MaterialReportDraft\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"reportDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"warehouseId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"svodHeaderId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lines\",\"kind\":\"object\",\"type\":\"MaterialReportDraftLine\",\"relationName\":\"MaterialReportDraftToMaterialReportDraftLine\"},{\"name\":\"warehouse\",\"kind\":\"object\",\"type\":\"Warehouse\",\"relationName\":\"MaterialReportDraftToWarehouse\"},{\"name\":\"svodHeader\",\"kind\":\"object\",\"type\":\"SvodHeader\",\"relationName\":\"MaterialReportDraftToSvodHeader\"}],\"dbName\":null},\"MaterialReportDraftLine\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"draftId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"openingBalance\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"inPurchase\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"inProduction\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outSale\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outWaste\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outBundle\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outDefectWriteoff\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outProductionWriteoff\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outWeightLoss\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"outSupplierReturn\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"closingBalanceCalc\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"closingBalanceFact\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"draft\",\"kind\":\"object\",\"type\":\"MaterialReportDraft\",\"relationName\":\"MaterialReportDraftToMaterialReportDraftLine\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"MaterialReportDraftLineToProduct\"}],\"dbName\":null},\"ProductionLotClosure\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"purchaseItemId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"qtyPurchased\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"qtyProduced\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"qtyRemaining\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"closedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"closedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reopenedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"reopenedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"purchaseItem\",\"kind\":\"object\",\"type\":\"PurchaseItem\",\"relationName\":\"ProductionLotClosureToPurchaseItem\"}],\"dbName\":null},\"ProductionClosure\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productionDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"totalIn\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"totalProduced\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"diffAbs\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"closedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"closedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"reopenedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"reopenedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductionClosures\"}],\"dbName\":null},\"ProductionClosureAudit\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"scope\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"action\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"productionDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"purchaseItemId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"performedBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"payload\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Role\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isSystem\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"userRoles\",\"kind\":\"object\",\"type\":\"UserRole\",\"relationName\":\"RoleToUserRole\"},{\"name\":\"rolePermissions\",\"kind\":\"object\",\"type\":\"RolePermission\",\"relationName\":\"RoleToRolePermission\"}],\"dbName\":null},\"Permission\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"code\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"module\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"rolePermissions\",\"kind\":\"object\",\"type\":\"RolePermission\",\"relationName\":\"PermissionToRolePermission\"}],\"dbName\":null},\"UserRole\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"roleId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"assignedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"UserToUserRole\"},{\"name\":\"role\",\"kind\":\"object\",\"type\":\"Role\",\"relationName\":\"RoleToUserRole\"}],\"dbName\":null},\"RolePermission\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"roleId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"permissionId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"role\",\"kind\":\"object\",\"type\":\"Role\",\"relationName\":\"RoleToRolePermission\"},{\"name\":\"permission\",\"kind\":\"object\",\"type\":\"Permission\",\"relationName\":\"PermissionToRolePermission\"}],\"dbName\":null},\"SupplierLedger\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"supplierId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sourceType\",\"kind\":\"enum\",\"type\":\"SupplierLedgerSourceType\"},{\"name\":\"sourceId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sourceLineId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"operationName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"opDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"debit\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"credit\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"isHidden\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"supplier\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"SupplierToSupplierLedger\"}],\"dbName\":null},\"SupplierReturn\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"supplierId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"returnDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"totalAmount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"isDisabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"supplier\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"SupplierToSupplierReturn\"},{\"name\":\"createdByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"SupplierReturnCreator\"},{\"name\":\"items\",\"kind\":\"object\",\"type\":\"SupplierReturnItem\",\"relationName\":\"SupplierReturnToSupplierReturnItem\"}],\"dbName\":null},\"SupplierReturnItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"returnId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"price\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"qty\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"amount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"supplierReturn\",\"kind\":\"object\",\"type\":\"SupplierReturn\",\"relationName\":\"SupplierReturnToSupplierReturnItem\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToSupplierReturnItem\"}],\"dbName\":null},\"SupplierPayment\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"supplierId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"paymentDate\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"amount\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"method\",\"kind\":\"enum\",\"type\":\"SupplierPaymentMethod\"},{\"name\":\"reference\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"comment\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deletedByUserId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"supplier\",\"kind\":\"object\",\"type\":\"Supplier\",\"relationName\":\"SupplierToSupplierPayment\"},{\"name\":\"createdByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"SupplierPaymentCreator\"},{\"name\":\"deletedByUser\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"SupplierPaymentDeleter\"}],\"dbName\":null},\"Country\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"products\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"CountryToProduct\"}],\"dbName\":null},\"ProductSubcategory\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"products\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToProductSubcategory\"},{\"name\":\"params\",\"kind\":\"object\",\"type\":\"ParamValue\",\"relationName\":\"ParamValueToProductSubcategory\"}],\"dbName\":null},\"ParamValue\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"paramType\",\"kind\":\"enum\",\"type\":\"ParamType\"},{\"name\":\"subcategoryId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"subcategory\",\"kind\":\"object\",\"type\":\"ProductSubcategory\",\"relationName\":\"ParamValueToProductSubcategory\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductParams\"},{\"name\":\"valueNum\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"valueInt\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"valueText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"valueNumMin\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"valueNumMax\",\"kind\":\"scalar\",\"type\":\"Decimal\"},{\"name\":\"valueIntMin\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"valueIntMax\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"label\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"deletedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"variantAsLength\",\"kind\":\"object\",\"type\":\"CustomerProductVariant\",\"relationName\":\"VariantLength\"},{\"name\":\"variantAsWidth\",\"kind\":\"object\",\"type\":\"CustomerProductVariant\",\"relationName\":\"VariantWidth\"},{\"name\":\"variantAsWeight\",\"kind\":\"object\",\"type\":\"CustomerProductVariant\",\"relationName\":\"VariantWeight\"},{\"name\":\"variantAsProcessing\",\"kind\":\"object\",\"type\":\"CustomerProductVariant\",\"relationName\":\"VariantProcessing\"},{\"name\":\"exclusions\",\"kind\":\"object\",\"type\":\"ProductParamExclusion\",\"relationName\":\"ParamValueToProductParamExclusion\"}],\"dbName\":null},\"ProductParamExclusion\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"productId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"paramValueId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"product\",\"kind\":\"object\",\"type\":\"Product\",\"relationName\":\"ProductToProductParamExclusion\"},{\"name\":\"paramValue\",\"kind\":\"object\",\"type\":\"ParamValue\",\"relationName\":\"ParamValueToProductParamExclusion\"}],\"dbName\":null},\"CustomerProductVariant\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"customerProductId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lengthParamValueId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"widthParamValueId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"weightParamValueId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"processingParamValueId\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"customerProduct\",\"kind\":\"object\",\"type\":\"CustomerProduct\",\"relationName\":\"CustomerProductToCustomerProductVariant\"},{\"name\":\"lengthParamValue\",\"kind\":\"object\",\"type\":\"ParamValue\",\"relationName\":\"VariantLength\"},{\"name\":\"widthParamValue\",\"kind\":\"object\",\"type\":\"ParamValue\",\"relationName\":\"VariantWidth\"},{\"name\":\"weightParamValue\",\"kind\":\"object\",\"type\":\"ParamValue\",\"relationName\":\"VariantWeight\"},{\"name\":\"processingParamValue\",\"kind\":\"object\",\"type\":\"ParamValue\",\"relationName\":\"VariantProcessing\"}],\"dbName\":null}},\"enums\":{},\"types\":{}}")
defineDmmfProperty(exports.Prisma, config.runtimeDataModel)
config.engineWasm = {
  getRuntime: async () => require('./query_engine_bg.js'),
  getQueryEngineWasmModule: async () => {
    const loader = (await import('#wasm-engine-loader')).default
    const engine = (await loader).default
    return engine
  }
}
config.compilerWasm = undefined

config.injectableEdgeEnv = () => ({
  parsed: {
    DATABASE_URL: typeof globalThis !== 'undefined' && globalThis['DATABASE_URL'] || typeof process !== 'undefined' && process.env && process.env.DATABASE_URL || undefined
  }
})

if (typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined) {
  Debug.enable(typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined)
}

const PrismaClient = getPrismaClient(config)
exports.PrismaClient = PrismaClient
Object.assign(exports, Prisma)

